"use strict";(self.webpackChunkrestaurant=self.webpackChunkrestaurant||[]).push([[2769],{2769:(e,a,s)=>{s.r(a),s.d(a,{default:()=>i});var t=s(7313),r=s(6573),l=s(4491),c=s(6417);function i(){const[e,a]=(0,t.useState)(""),[s,i]=(0,t.useState)([]),[o,n]=(0,t.useState)([]),[m,u]=(0,t.useState)(!1),[d,p]=(0,t.useState)(null);return(0,t.useEffect)((()=>{d&&(0,l.Am)(d,{position:l.Am.POSITION.BOTTOM_CENTER,type:"error"})}),[d]),(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-12 col-md-10",children:(0,c.jsx)("div",{className:"wrapper my-5",children:(0,c.jsxs)("form",{onSubmit:async a=>{a.preventDefault(),u(!0);try{const a=new FormData;a.append("text",e),s.forEach((e=>{a.append("images",e)})),await r.Z.post("/api/admin/carousel/new",a),(0,l.Am)("Carousal Created Successfully!",{type:"success",position:l.Am.POSITION.BOTTOM_CENTER})}catch(d){console.error("Error creating carousal:",d),p("Error creating carousal. Please try again.")}finally{u(!1)}},className:"shadow-lg",encType:"multipart/form-data",children:[(0,c.jsx)("h1",{className:"mb-4",children:"New Carousal"}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"description_field",children:"Description"}),(0,c.jsx)("textarea",{className:"form-control",id:"description_field",rows:"8",onChange:e=>a(e.target.value),value:e})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{children:"Images"}),(0,c.jsxs)("div",{className:"custom-file",children:[(0,c.jsx)("input",{type:"file",name:"Carousal_images",className:"custom-file-input",id:"customFile",multiple:!0,onChange:e=>{Array.from(e.target.files).forEach((e=>{const a=new FileReader;a.onload=()=>{2===a.readyState&&(n((e=>[...e,a.result])),i((a=>[...a,e])))},a.readAsDataURL(e)}))}}),(0,c.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Images"})]}),o.map(((e,a)=>(0,c.jsx)("img",{className:"mt-3 mr-2",src:e,alt:"Image Preview ".concat(a+1),width:"55",height:"52"},a)))]}),(0,c.jsx)("button",{id:"login_button",type:"submit",disabled:m,className:"btn btn-block py-3",children:"CREATE"})]})})})})}}}]);