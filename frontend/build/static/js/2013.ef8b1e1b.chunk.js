"use strict";(self.webpackChunkrestaurant=self.webpackChunkrestaurant||[]).push([[2013],{2013:(e,a,s)=>{s.r(a),s.d(a,{default:()=>d});var r=s(7313),t=s(8467),l=s(2135),c=s(6573),o=s(195),n=(s(1804),s(4423)),i=s(6417);const d=()=>{const[e,a]=(0,r.useState)(""),[s,d]=(0,r.useState)(""),[m,u]=(0,r.useState)(""),[p,f]=(0,r.useState)(""),[h,x]=(0,r.useState)({message:"",type:""}),[g,y]=(0,r.useState)(""),[v,b]=(0,r.useState)(""),[N,j]=(0,r.useState)(""),[C,k]=(0,r.useState)(!1),[w,P]=(0,r.useState)([]),[S,_]=(0,r.useState)(!1),[E,F]=(0,r.useState)([]),{id:R}=(0,t.UO)(),I=(0,t.s0)();return(0,r.useEffect)((()=>{(async()=>{try{const e=(await c.Z.get("/api/product/".concat(R))).data.menu;a(e.name),d(e.price),k(e.isAvailable),u(e.description),b(e.restaurantId),j(e.restaurantBranch),f(e.dietaryPreferenceCategory),y(e.mealTypeCategory);const s=e.images.map((e=>e.image));F(s)}catch(e){h(e.message||"An error occurred")}})()}),[R]),(0,i.jsx)("div",{className:"bg-white py-1 text-black",children:(0,i.jsx)("div",{className:"container-fluid",children:(0,i.jsx)("div",{className:"row",children:(0,i.jsx)("div",{className:"col-lg-8  mx-auto col-xs-12 col-md-10 my-5",children:(0,i.jsxs)(o.Z,{className:"Cardimg123",children:[h.message&&(0,i.jsx)(n.Z,{message:h.message,type:h.type,onClose:()=>{x({message:"",type:""})}}),(0,i.jsxs)("form",{onSubmit:async a=>{a.preventDefault();const r=new FormData;r.append("name",e),r.append("price",s),r.append("isAvailable",C||!1),r.append("description",m),r.append("restaurantId",v),r.append("restaurantBranch",N),r.append("mealTypeCategory",g),r.append("dietaryPreferenceCategory",p),w.forEach((e=>{r.append("images",e)})),r.append("imagesCleared",S);try{await c.Z.put("/api/admin/product/".concat(R),r),x({message:"Product Updated Successfully!",type:"success"}),I("/admin/menus"),P([])}catch(t){x({message:"Please enter a valid data",type:"error"})}},className:"shadow-lg p-4",encType:"multipart/form-data",children:[(0,i.jsx)("h1",{className:"mb-4 uppercase",children:"EDIT MENU"}),(0,i.jsxs)("div",{className:"form-group mt-2",children:[(0,i.jsx)("label",{htmlFor:"name_field",children:"Name"}),(0,i.jsx)("input",{style:{backgroundColor:"white",color:"black"},type:"text",id:"name_field",className:"form-control mt-2",onChange:e=>a(e.target.value),value:e})]}),(0,i.jsxs)("div",{className:"form-group mt-2",children:[(0,i.jsx)("label",{htmlFor:"price_field",children:"Price"}),(0,i.jsx)("input",{style:{backgroundColor:"white",color:"black"},type:"number",id:"price_field",className:"form-control mt-2",onChange:e=>{e.target.value>=0&&d(e.target.value)},value:s})]}),(0,i.jsxs)("div",{className:"form-group mt-2",children:[(0,i.jsx)("label",{htmlFor:"description_field",children:"Description"}),(0,i.jsx)("textarea",{style:{backgroundColor:"white",color:"black"},className:"form-control mt-2",id:"description_field",rows:"4",onChange:e=>u(e.target.value),value:m})]}),(0,i.jsxs)("div",{className:"form-group mt-2",children:[(0,i.jsx)("label",{htmlFor:"category_field",children:"Dietary Preference Category"}),(0,i.jsxs)("select",{style:{backgroundColor:"white",color:"black"},value:p,onChange:e=>f(e.target.value),className:"form-select mt-2",id:"category_field",children:[(0,i.jsx)("option",{value:"",children:"Select"}),["Vegetarian","Non-vegetarian","Vegan","Gluten-Free","Halal","Other"].map((e=>(0,i.jsx)("option",{value:e,children:e},e)))]})]}),(0,i.jsxs)("div",{className:"form-group mt-2",children:[(0,i.jsx)("label",{htmlFor:"category_field",children:"Meal Type Category"}),(0,i.jsxs)("select",{style:{backgroundColor:"white",color:"black"},value:g,onChange:e=>f(e.target.value),className:"form-select",id:"category_field",children:[(0,i.jsx)("option",{value:"",children:"Select"}),["Appetizers","Main Course","Desserts","Beverages","Other"].map((e=>(0,i.jsx)("option",{value:e,children:e},e)))]})]}),(0,i.jsxs)("div",{className:"form-group mt-2",children:[(0,i.jsx)("label",{htmlFor:"stock_field",children:"Is Available"}),(0,i.jsx)("input",{style:{backgroundColor:"white",color:"black"},type:"checkbox",id:"stock_field",className:" mt-2",onChange:()=>{k((e=>!e))},checked:C})]}),(0,i.jsxs)("div",{className:"form-group mt-2",children:[(0,i.jsx)("label",{htmlFor:"seller_field",children:"Restaurant Id"}),(0,i.jsx)("input",{style:{backgroundColor:"white",color:"black"},type:"text",id:"seller_field",className:"form-control mt-2",readOnly:!0,onChange:e=>b(e.target.value),value:v})]}),(0,i.jsxs)("div",{className:"form-group mt-2",children:[(0,i.jsx)("label",{htmlFor:"seller_field",children:"Restaurant Branch"}),(0,i.jsx)("input",{style:{backgroundColor:"white",color:"black"},type:"text",id:"seller_field",className:"form-control mt-2",readOnly:!0,onChange:e=>j(e.target.value),value:N})]}),(0,i.jsxs)("div",{className:"form-group mt-2",children:[(0,i.jsx)("label",{children:"Images"}),(0,i.jsxs)("div",{className:"custom-file mt-2",children:[(0,i.jsx)("input",{style:{backgroundColor:"transparent",borderRadius:"30px"},type:"file",name:"product_images",className:"form-control mt-2",id:"customFile",multiple:!0,onChange:e=>{Array.from(e.target.files).forEach((e=>{const a=new FileReader;a.onload=()=>{2===a.readyState&&(F([a.result]),P([e]))},a.readAsDataURL(e)}))}}),(0,i.jsx)("label",{className:"custom-file-label mt-2",htmlFor:"customFile",children:"Choose Images"})]}),E.length>0&&(0,i.jsx)("span",{className:"m-3",onClick:()=>{P([]),F([]),_(!0)},style:{cursor:"pointer"},children:(0,i.jsx)("i",{className:"fa fa-trash"})}),E.map((e=>(0,i.jsx)("img",{className:"image-preview mt-2",src:e,alt:"Image Preview",width:"55",height:"52"},e)))]}),(0,i.jsxs)("div",{className:"d-flex justify-content-center",children:[(0,i.jsx)("button",{id:"login_button",type:"submit",className:"btn my-3 px-4 btn rounded my-4 mx-2 ",children:"UPDATE"}),(0,i.jsx)(l.rU,{to:"/admin/menus",className:"btn my-3 px-4 btn rounded mx-2 my-4",children:"Back"})]})]})]})})})})})}},195:(e,a,s)=>{s.d(a,{Z:()=>R});var r=s(6123),t=s.n(r),l=s(7313),c=s(8524),o=s(6417);const n=l.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:l="div",...n}=e;return r=(0,c.vE)(r,"card-body"),(0,o.jsx)(l,{ref:a,className:t()(s,r),...n})}));n.displayName="CardBody";const i=n,d=l.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:l="div",...n}=e;return r=(0,c.vE)(r,"card-footer"),(0,o.jsx)(l,{ref:a,className:t()(s,r),...n})}));d.displayName="CardFooter";const m=d;var u=s(5614);const p=l.forwardRef(((e,a)=>{let{bsPrefix:s,className:r,as:n="div",...i}=e;const d=(0,c.vE)(s,"card-header"),m=(0,l.useMemo)((()=>({cardHeaderBsPrefix:d})),[d]);return(0,o.jsx)(u.Z.Provider,{value:m,children:(0,o.jsx)(n,{ref:a,...i,className:t()(r,d)})})}));p.displayName="CardHeader";const f=p,h=l.forwardRef(((e,a)=>{let{bsPrefix:s,className:r,variant:l,as:n="img",...i}=e;const d=(0,c.vE)(s,"card-img");return(0,o.jsx)(n,{ref:a,className:t()(l?"".concat(d,"-").concat(l):d,r),...i})}));h.displayName="CardImg";const x=h,g=l.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:l="div",...n}=e;return r=(0,c.vE)(r,"card-img-overlay"),(0,o.jsx)(l,{ref:a,className:t()(s,r),...n})}));g.displayName="CardImgOverlay";const y=g,v=l.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:l="a",...n}=e;return r=(0,c.vE)(r,"card-link"),(0,o.jsx)(l,{ref:a,className:t()(s,r),...n})}));v.displayName="CardLink";const b=v;var N=s(6205);const j=(0,N.Z)("h6"),C=l.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:l=j,...n}=e;return r=(0,c.vE)(r,"card-subtitle"),(0,o.jsx)(l,{ref:a,className:t()(s,r),...n})}));C.displayName="CardSubtitle";const k=C,w=l.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:l="p",...n}=e;return r=(0,c.vE)(r,"card-text"),(0,o.jsx)(l,{ref:a,className:t()(s,r),...n})}));w.displayName="CardText";const P=w,S=(0,N.Z)("h5"),_=l.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:l=S,...n}=e;return r=(0,c.vE)(r,"card-title"),(0,o.jsx)(l,{ref:a,className:t()(s,r),...n})}));_.displayName="CardTitle";const E=_,F=l.forwardRef(((e,a)=>{let{bsPrefix:s,className:r,bg:l,text:n,border:d,body:m=!1,children:u,as:p="div",...f}=e;const h=(0,c.vE)(s,"card");return(0,o.jsx)(p,{ref:a,...f,className:t()(r,h,l&&"bg-".concat(l),n&&"text-".concat(n),d&&"border-".concat(d)),children:m?(0,o.jsx)(i,{children:u}):u})}));F.displayName="Card";const R=Object.assign(F,{Img:x,Title:E,Subtitle:k,Body:i,Link:b,Text:P,Header:f,Footer:m,ImgOverlay:y})},1804:()=>{}}]);