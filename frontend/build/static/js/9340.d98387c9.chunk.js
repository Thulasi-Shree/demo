"use strict";(self.webpackChunkrestaurant=self.webpackChunkrestaurant||[]).push([[9340],{6220:(e,a,s)=>{s.d(a,{Z:()=>i});var t=s(7313),r=s(3298),d=s(465),c=s(259),n=s(1309),l=s(6417);const i=e=>{let{headers:a,data:s,onEdit:i,onUpdate:o,update:x,onDelete:h,onAddMenu:m,onViewDetails:p}=e;const[j,u]=(0,t.useState)("asc"),[b,C]=(0,t.useState)(null),g=e=>{let a;a=e===b&&"asc"===j?"desc":"asc",u(a),C(e)};return(0,l.jsx)("div",{children:(0,l.jsxs)(d.Z,{bordered:!0,responsive:!0,className:" mt-4 text-center w-100 Cardimg123",children:[(0,l.jsx)("thead",{className:"table-head bg-white",children:(0,l.jsxs)("tr",{children:[a.map((e=>(0,l.jsx)("th",{id:"CardText ",onClick:()=>g((e=>{switch(e){case"Menu Name":case"Name":return"name";case"Price":return"price";case"Customer":return"customer";case"Restaurant ID":return"_id";case"Restaurant Branch":return"restaurantBranch";default:return e.toLowerCase()}})(e)),children:e},e))),i&&(0,l.jsx)("th",{children:"View / Edit"}),o&&(0,l.jsx)("th",{children:" Update"}),x&&(0,l.jsx)("th",{children:" View"}),p&&(0,l.jsx)("th",{children:" View"}),h&&(0,l.jsx)("th",{children:"Delete"}),m&&(0,l.jsx)("th",{children:"Add Menu"})]})}),(0,l.jsx)("tbody",{children:s.slice().sort(((e,a)=>{if("name"===b){const s="".concat(e.name," ").concat(e.lastName),t="".concat(a.name," ").concat(a.lastName);return"asc"===j?s.localeCompare(t):t.localeCompare(s)}return"price"===b?"asc"===j?e.price-a.price:a.price-e.price:"customer"===b?"asc"===j?e.shipping.name.localeCompare(a.shipping.name):a.shipping.name.localeCompare(e.shipping.name):"role"===b?"asc"===j?e.role.localeCompare(a.role):a.role.localeCompare(e.role):0})).map(((e,s)=>(0,l.jsxs)("tr",{className:"bg-white",style:{backgroundColor:"white"},children:[a.map((a=>"Sl No"===a?(0,l.jsx)("td",{children:(0,l.jsx)("p",{className:"text-black",id:"CardText",children:s+1})},a):"Restaurant Address"===a?(0,l.jsx)("td",{children:(0,l.jsxs)("p",{className:"text-black",id:"CardText",children:[e.address.line1,", ",e.address.line2,","," ",e.address.city,", ",e.address.state,","," ",e.address.postalCode,", ",e.address.country]})},a):"Order ID"===a?(0,l.jsx)("td",{children:(0,l.jsx)("p",{className:"text-black",id:"CardText",children:e.orderId})},a):"Carousal Image"===a?(0,l.jsx)("td",{children:(0,l.jsx)("img",{src:e.images[0].image,alt:"Carousel",style:{width:"75px",height:"auto"}})},a):"Carousal Text"===a?(0,l.jsxs)("td",{children:[" ",(0,l.jsx)("p",{className:"text-black",id:"CardText",children:e.text})]},a):"Branch ID"===a?(0,l.jsxs)("td",{children:[" ",(0,l.jsx)("p",{className:"text-black",id:"CardText",children:e.restaurantId})]},a):"Restaurant Branch ID"===a?(0,l.jsxs)("td",{children:[" ",(0,l.jsx)("p",{className:"text-black",id:"CardText",children:e.restaurantName})]},a):"Opening Hours"===a?(0,l.jsxs)("td",{children:[" ",(0,l.jsx)("p",{className:"text-black",id:"CardText",children:e.openingHours})]},a):"Restaurant Branch"===a?(0,l.jsx)("td",{onClick:()=>g("restaurantBranch"),children:(0,l.jsxs)("p",{className:"text-black",id:"CardText",children:[e.restaurantBranch," "]})},a):"User ID"===a?(0,l.jsxs)("td",{children:[" ",(0,l.jsx)("p",{className:"text-black",id:"CardText",children:e._id})]},a):"Status"===a?(0,l.jsxs)("td",{children:[" ",(0,l.jsx)("p",{className:"text-black",id:"CardText",children:e.orderStatus})," "]},a):"Pickup/Delivery Time"===a?(0,l.jsxs)("td",{children:[" ",(0,l.jsx)("p",{className:"text-black",id:"CardText",children:e.selectedTimeSlot})]},a):"Order Date"===a?(0,l.jsxs)("td",{children:[" ",(0,l.jsx)("p",{className:"text-black",id:"CardText",children:e.createdAt})]},a):"Phone No"===a?(0,l.jsxs)("td",{children:[" ",(0,l.jsx)("p",{className:"text-black",id:"CardText",children:e.shipping.phone})]},a):"Email Address"===a?(0,l.jsxs)("td",{children:[" ",(0,l.jsx)("p",{className:"text-black",id:"CardText",children:e.shipping.email})]},a):"Category"===a?(0,l.jsxs)("td",{children:[(0,l.jsxs)("p",{className:"text-black",id:"CardText",children:[" ",(0,l.jsx)("b",{children:"MealType: "})," ",e.mealTypeCategory,","]}),(0,l.jsxs)("p",{className:"text-black",id:"CardText",children:[" ",(0,l.jsx)("b",{children:"Dietary Preference: "})," ",e.dietaryPreferenceCategory]})]},a):"Menu Name"===a?(0,l.jsx)("td",{onClick:()=>g("name"),children:(0,l.jsxs)("p",{className:"text-black",id:"CardText",children:[" ",e.name," "]})},a):"Name"===a?(0,l.jsx)("div",{style:{backgroundColor:"white",border:"none",display:"flex",justifyContent:"center"},children:(0,l.jsx)("td",{style:{border:"none",width:"100px"},onClick:()=>g("name"),children:(0,l.jsxs)("p",{id:"CardText",children:[" ",e.name," ",e.lastName]})},a)}):"Role"===a?(0,l.jsx)("td",{onClick:()=>g("role"),children:(0,l.jsxs)("p",{id:"CardText",children:[" ",e.role," "]})},a):"Customer"===a?(0,l.jsx)("td",{onClick:()=>g("customer"),children:(0,l.jsxs)("p",{id:"CardText",children:[" ",e.shipping.name," "]})},a):(0,l.jsx)("td",{children:(0,l.jsx)("p",{id:"CardText",children:e[a.toLowerCase()]||"N/A"})},a))),o&&(0,l.jsx)("td",{children:(0,l.jsx)(r.Z,{className:" btn my-3 px-4 btn bg-white text-black ",onClick:()=>o(e._id),children:(0,l.jsx)(c.G,{icon:n.Xcf})})}),x&&(0,l.jsx)("td",{children:(0,l.jsx)(r.Z,{className:"btn my-3 px-4 btn border border-danger rounded bg-white text-black",onClick:()=>x(e._id),children:"Update"})}),i&&(0,l.jsx)("td",{children:(0,l.jsx)(r.Z,{className:"btn my-3 px-4 btn border border-danger rounded bg-white text-black",onClick:()=>i(e._id),children:(0,l.jsx)(c.G,{icon:n.Mdf})})}),h&&(0,l.jsx)("td",{children:(0,l.jsx)(r.Z,{className:"btn my-3 px-4 btn border border-danger rounded bg-white text-black",onClick:()=>h(e._id),children:(0,l.jsx)(c.G,{icon:n.$aW})})}),p&&(0,l.jsx)("td",{children:(0,l.jsx)(r.Z,{className:"btn my-3 px-4 btn border border-danger rounded bg-white text-black",onClick:()=>p(e._id),children:(0,l.jsx)(c.G,{icon:n.Mdf})})}),m&&(0,l.jsx)("td",{children:(0,l.jsx)(r.Z,{className:"btn my-3 px-4 btn border border-danger rounded bg-white text-black",onClick:()=>m(e._id),children:"Add Menu"})})]},e._id)))})]})})}},9340:(e,a,s)=>{s.r(a),s.d(a,{default:()=>x});var t=s(7313),r=s(8467),d=s(6573),c=s(6220),n=s(3298),l=s(1965),i=s(4423),o=s(6417);const x=()=>{const e=(0,r.s0)(),[a,s]=(0,t.useState)([]),[x,h]=(0,t.useState)(!0),[m,p]=(0,t.useState)({message:"",type:""}),[j,u]=(0,t.useState)(!1),[b,C]=(0,t.useState)(null),g=async()=>{try{const e=await d.Z.get("/api/restaurant/get"),{data:a}=e;a.success&&Array.isArray(a.data)?s(a.data):console.error("Invalid data format:",a)}catch(e){console.error("Error fetching data:",e)}finally{h(!1)}},N=()=>{u(!1),C(null)};return(0,t.useEffect)((()=>{g()}),[]),(0,o.jsxs)("div",{className:"bg-white text-black pt-4",style:{minHeight:"58vh"},children:[(0,o.jsx)("div",{className:"container-fluid",id:"CardText",children:(0,o.jsxs)("div",{className:"row",children:[m.message&&(0,o.jsx)(i.Z,{message:m.message,type:m.type,onClose:()=>{p({message:"",type:""})}}),(0,o.jsx)("h1",{className:"mt-3 uppercase",style:{fontWeight:"bold"},children:"Restaurants"}),(0,o.jsx)("div",{className:"col bg-white",children:x?(0,o.jsx)("p",{children:"Loading..."}):(0,o.jsxs)("div",{style:{display:"flex"},children:[(0,o.jsx)("h5",{className:"mt-2 text-black",children:"Add Restaurant - "}),(0,o.jsx)(n.Z,{className:"ms-2 m-1",onClick:()=>{e("/admin/create/restaurant")},children:"Add"})]})}),(0,o.jsx)(c.Z,{headers:["Sl No","Restaurant Branch","Opening Hours","Restaurant Address"],data:a,onEdit:a=>{e("/admin/updateRestaurant/".concat(a))},onDelete:e=>{C(e),u(!0)}})]})}),(0,o.jsxs)(l.Z,{show:j,onHide:N,children:[(0,o.jsx)(l.Z.Header,{closeButton:!0,children:(0,o.jsx)(l.Z.Title,{children:"Confirm Delete"})}),(0,o.jsx)(l.Z.Body,{children:"Are you sure you want to delete this restaurant?"}),(0,o.jsxs)(l.Z.Footer,{children:[(0,o.jsx)(n.Z,{variant:"secondary",onClick:N,children:"Cancel"}),(0,o.jsx)(n.Z,{variant:"danger",onClick:async()=>{try{const e=await d.Z.delete("/api/restaurant/delete/".concat(b));p({message:e.data.message,type:"success"}),g(),N()}catch(s){var e,a;p({message:(null===(e=s.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.message)||"An error occurred",type:"danger"}),N()}},children:"Delete"})]})]})]})}},3298:(e,a,s)=>{s.d(a,{Z:()=>o});var t=s(6123),r=s.n(t),d=s(7313),c=s(6184),n=s(8524),l=s(6417);const i=d.forwardRef(((e,a)=>{let{as:s,bsPrefix:t,variant:d="primary",size:i,active:o=!1,disabled:x=!1,className:h,...m}=e;const p=(0,n.vE)(t,"btn"),[j,{tagName:u}]=(0,c.FT)({tagName:s,disabled:x,...m}),b=u;return(0,l.jsx)(b,{...j,...m,ref:a,disabled:x,className:r()(h,p,o&&"active",d&&"".concat(p,"-").concat(d),i&&"".concat(p,"-").concat(i),m.href&&x&&"disabled")})}));i.displayName="Button";const o=i},465:(e,a,s)=>{s.d(a,{Z:()=>l});var t=s(6123),r=s.n(t),d=s(7313),c=s(8524),n=s(6417);const l=d.forwardRef(((e,a)=>{let{bsPrefix:s,className:t,striped:d,bordered:l,borderless:i,hover:o,size:x,variant:h,responsive:m,...p}=e;const j=(0,c.vE)(s,"table"),u=r()(t,j,h&&"".concat(j,"-").concat(h),x&&"".concat(j,"-").concat(x),d&&"".concat(j,"-").concat("string"===typeof d?"striped-".concat(d):"striped"),l&&"".concat(j,"-bordered"),i&&"".concat(j,"-borderless"),o&&"".concat(j,"-hover")),b=(0,n.jsx)("table",{...p,className:u,ref:a});if(m){let e="".concat(j,"-responsive");return"string"===typeof m&&(e="".concat(e,"-").concat(m)),(0,n.jsx)("div",{className:e,children:b})}return b}))}}]);