(self.webpackChunkrestaurant=self.webpackChunkrestaurant||[]).push([[1212],{2766:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var s=a(7313),r=a(8467),l=a(6573),o=a(195),n=a(3298),i=a(6417);const d=e=>{let{name:t,lastName:a,handleFirstNameChange:r,handleLastNameChange:l,handleGetOtp:d,handleOtpChange:c,emailOrMobile:h,handleEmailOrMobileChange:m,enteredOtp:g,handleConfirmOtp:u,isOtpSent:p}=e;const[y,x]=(0,s.useState)(!1),[b,C]=(0,s.useState)("");(0,s.useEffect)((()=>{const e=localStorage.getItem("otpVerified");e&&x(JSON.parse(e))}),[]);return(0,i.jsx)("div",{children:(0,i.jsxs)(o.Z,{className:"my-3 p-3",style:{backgroundColor:"transparent"},children:[(0,i.jsx)("h4",{id:"CardText",children:"Personal Details"}),(0,i.jsxs)("div",{className:"mb-3 address-container",children:[(0,i.jsxs)("label",{htmlFor:"userName",className:"form-label",id:"CardText",children:["First Name"," ",(0,i.jsx)("span",{className:"text-danger",children:(0,i.jsx)("b",{children:"*"})})]}),(0,i.jsx)("input",{type:"text",style:{backgroundColor:"white",color:"black"},className:"form-control",id:"userName",value:t,onChange:r,placeholder:"First Name is Required",required:!0}),b.name&&(0,i.jsx)("div",{className:"error",children:b.name})]}),(0,i.jsxs)("div",{className:"mb-3 address-container",children:[(0,i.jsxs)("label",{htmlFor:"lastName",className:"form-label",id:"CardText",children:["Last Name"," ",(0,i.jsxs)("span",{className:"text-danger",children:[" ",(0,i.jsx)("b",{children:"*"})]})]}),(0,i.jsx)("input",{style:{backgroundColor:"white",color:"black"},type:"text",className:"form-control",id:"lastName",value:a,placeholder:"Last Name is Required",onChange:l,required:!0})]}),(0,i.jsxs)("div",{className:"mb-3 address-container",style:{display:y?"none":"block"},children:[(0,i.jsxs)("label",{htmlFor:"emailOrMobile",className:"form-label",id:"CardText",children:["Email / Mobile Number"," ",(0,i.jsxs)("span",{className:"text-danger",children:[" ",(0,i.jsx)("b",{children:"*"})]})]}),(0,i.jsx)("input",{type:"text",style:{backgroundColor:"white",color:"black"},className:"form-control",id:"emailOrMobile",value:h,onChange:m,required:!0,placeholder:"Email id / Mobile number is required"})]}),(0,i.jsx)(n.Z,{type:"button",className:"my-global-button btn my-2",onClick:d,style:{display:y?"none":"block"},children:"Get OTP"}),p&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{style:{display:y?"none":"block"},children:[(0,i.jsxs)("label",{htmlFor:"otp",className:"form-label mt-4",id:"CardText",children:["Enter OTP"," ",(0,i.jsxs)("span",{className:"text-danger",children:[" ",(0,i.jsx)("b",{children:"*"})]})]}),(0,i.jsx)("input",{style:{backgroundColor:"white",color:"black"},type:"tel",className:"form-control",id:"otp",value:g,onChange:c,required:!0,placeholder:"Field is required"})]}),(0,i.jsx)(n.Z,{type:"button",className:"my-3 my-global-button",onClick:()=>{u(),x(!0),localStorage.setItem("otpVerified",!0)},style:{display:y?"none":"block"},children:"Confirm OTP"})]})]})})},c=e=>{let{orderType:t,handleOrderTypeChange:a,handleText1:s,textBox1:r}=e;return(0,i.jsxs)(o.Z,{className:"my-3 p-3 bg-transparent",children:[(0,i.jsx)("h4",{id:"CardText",children:"Order Details"}),(0,i.jsxs)("div",{className:"mb-3 address-container",children:[(0,i.jsxs)("label",{htmlFor:"orderType",className:"form-label",id:"CardText",children:["Order Type"," ",(0,i.jsxs)("span",{className:"text-danger",children:[" ",(0,i.jsx)("b",{children:"*"})]})]}),(0,i.jsxs)("select",{className:"form-select form-select-sm col-xs-2 ",id:"orderType",value:t,onChange:a,style:{backgroundColor:"white",color:"black"},required:!0,children:[(0,i.jsx)("option",{value:"",children:"Select"}),(0,i.jsx)("option",{value:"Pickup",className:"text-black",children:"Pickup"}),(0,i.jsx)("option",{value:"Delivery",className:"text-black",children:"Delivery"})]})]}),(0,i.jsxs)("div",{className:"mb-3 address-container",children:[(0,i.jsx)("label",{htmlFor:"orderNotes",className:"form-label",id:"CardText",children:"Order Notes"}),(0,i.jsx)("textarea",{type:"text",style:{backgroundColor:"white",color:"black"},className:"form-control ",name:"orderNotes",value:r,onChange:s,placeholder:"Order Notes"})]})]})},h=e=>{let{streetAddress:t,postalCode:a,city:r,postal_code:l,state:n,country:d,handleStreetAddressChange:c,handleZipCodeChange:h,handleCityChange:m,handleStateChange:g}=e;return(0,s.useEffect)((()=>{const e={streetAddress:t,postalCode:a||l,city:r,state:n,country:d};localStorage.setItem("billingAddress",JSON.stringify(e))}),[t,a,l,r,n,d]),(0,i.jsxs)(o.Z,{className:"my-3 p-3 bg-transparent",children:[(0,i.jsx)("h4",{id:"CardText",children:"Billing Address"}),(0,i.jsxs)("div",{className:"mb-3 address-container",children:[(0,i.jsxs)("label",{htmlFor:"streetAddress",className:"form-label",id:"CardText",style:{color:"black",backgroundColor:"transparent"},children:["Street Address"," ",(0,i.jsxs)("span",{className:"text-danger",children:[" ",(0,i.jsx)("b",{children:"*"})]})]}),(0,i.jsx)("input",{style:{color:"black",backgroundColor:"white"},type:"text",className:"form-control ",id:"streetAddress",value:t,onChange:c,required:!0,placeholder:"Field is required"})]}),(0,i.jsxs)("div",{className:"mb-3 address-container",children:[(0,i.jsxs)("label",{id:"CardText",htmlFor:"zipCode",className:"form-label",children:["ZIP Codeoo"," ",(0,i.jsxs)("span",{className:"text-danger",children:[" ",(0,i.jsx)("b",{children:"*"})]})]}),(0,i.jsx)("input",{style:{color:"black",backgroundColor:"white"},type:"text",className:"form-control ",id:"zipCode",value:a,onChange:h,required:!0,placeholder:"Field is required"})]}),(0,i.jsxs)("div",{className:"mb-3 address-container",children:[(0,i.jsxs)("label",{id:"CardText",htmlFor:"city",className:"form-label",children:["City"," ",(0,i.jsxs)("span",{className:"text-danger",children:[" ",(0,i.jsx)("b",{children:"*"})]})]}),(0,i.jsx)("input",{style:{color:"black",backgroundColor:"white"},type:"text",className:"form-control ",id:"city",value:r,onChange:m,required:!0,placeholder:"Field is required"})]}),(0,i.jsxs)("div",{className:"mb-3 address-container",children:[(0,i.jsxs)("label",{htmlFor:"state",id:"CardText",className:"form-label",children:["State"," ",(0,i.jsxs)("span",{className:"text-danger",children:[" ",(0,i.jsx)("b",{children:"*"})]})]}),(0,i.jsx)("input",{style:{color:"black",backgroundColor:"white"},type:"text",className:"form-control ",id:"state",value:n,onChange:g,required:!0,placeholder:"Field is required"})]}),(0,i.jsxs)("div",{className:"mb-3 address-container",children:[(0,i.jsxs)("label",{htmlFor:"state",id:"CardText",className:"form-label",children:["Country"," ",(0,i.jsxs)("span",{className:"text-danger",children:[" ",(0,i.jsx)("b",{children:"*"})]})]}),(0,i.jsx)("input",{style:{color:"black",backgroundColor:"white"},type:"text",className:"form-control ",id:"country",value:d,required:!0,disabled:!0,placeholder:"Field is required"})]})]})},m=e=>{let{streetAddress:t,postalCode:a,city:s,state:r,country:l,textBox2:n,postal_code:d,setPostal_code:c,billingPostalCode:m,useCurrentLocation:g,billingStreetAddress:u,setBillingPostalCode:p,handleSameAsDeliveryChange:y,setBillingStreetAddress:x,handleButtonClick:b,billingCity:C,setBillingCity:S,setBillingState:N,setBillingCountry:f,billingState:j,billingCountry:v,handleStreetAddressChange:k,handleZipCodeChange:O,handleCityChange:A,handleStateChange:I,sameAsDelivery:T,handleUseCurrentLocationChange:w,userLocation:F,distanceResult:J,handleText2:E}=e;return(0,i.jsxs)(o.Z,{className:"my-3 p-3",id:"",children:[(0,i.jsx)("h4",{id:"CardText",children:"Delivery Address"}),g?(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{id:"CardText",children:"Using current location"}),F?(0,i.jsxs)("div",{children:[(0,i.jsxs)("p",{id:"CardText",children:["Address: ",F.features[0].properties.address_line1,","," ",F.features[0].properties.postcode,","," ",F.features[0].properties.state_district,","," ",F.features[0].properties.state,","," ",F.features[0].properties.country]}),null!==J&&(0,i.jsx)(i.Fragment,{children:J<500?(0,i.jsx)("div",{children:(0,i.jsx)("p",{style:{color:"#008000",backgroundColor:"white"},children:"Order available for this location"})}):(0,i.jsx)("div",{children:(0,i.jsx)("p",{style:{color:"red",backgroundColor:"white"},children:"Order not available for this location"})})}),(0,i.jsxs)("div",{className:"address-options mt-2",children:[(0,i.jsxs)("label",{className:"radio-label",id:"CardText",children:[(0,i.jsx)("input",{style:{backgroundColor:"white",color:"black"},type:"radio",name:"sameAsDeliveryOption",checked:T,onChange:y}),(0,i.jsx)("span",{className:"radio-custom"}),"Use Delivery address"]}),(0,i.jsxs)("label",{className:"radio-label",id:"CardText",children:[(0,i.jsx)("input",{style:{backgroundColor:"white",color:"black"},type:"radio",name:"sameAsDeliveryOption",checked:!T,onChange:y}),(0,i.jsx)("span",{className:"radio-custom"}),"Enter different address"]})]}),(0,i.jsx)(h,{sameAsDelivery:T,streetAddress:u,postal_code:m,city:C,state:j,country:v,handleStreetAddressChange:e=>x(e.target.value),handleZipCodeChange:e=>p(e.target.value),handleCityChange:e=>S(e.target.value),handleStateChange:e=>N(e.target.value),handleCountryChange:e=>f(e.target.value)})]}):(0,i.jsx)("p",{children:"Loading location..."})]}):(0,i.jsxs)("div",{className:"address-container",children:[(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsxs)("label",{id:"CardText",htmlFor:"streetAddress",className:"form-label",children:["Street Address"," ",(0,i.jsxs)("span",{className:"text-danger",children:[" ",(0,i.jsx)("b",{children:"*"})]})]}),(0,i.jsx)("input",{style:{color:"black",backgroundColor:"white"},type:"text",className:"form-control ",id:"streetAddress",value:t,onChange:k,required:!0,placeholder:"Field is required"})]}),(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsxs)("label",{id:"CardText",htmlFor:"zipCode",className:"form-label",children:["ZIP Code"," ",(0,i.jsxs)("span",{className:"text-danger",children:[" ",(0,i.jsx)("b",{children:"*"})]})]}),(0,i.jsx)("input",{style:{color:"black",backgroundColor:"white"},type:"text",className:"form-control ",id:"zipCode",value:d,onChange:e=>c(e.target.value),required:!0,placeholder:"Field is required"})]}),(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsxs)("label",{id:"CardText",htmlFor:"city",className:"form-label",children:["City"," ",(0,i.jsxs)("span",{className:"text-danger",children:[" ",(0,i.jsx)("b",{children:"*"})]})]}),(0,i.jsx)("input",{style:{color:"black",backgroundColor:"white"},type:"text",className:"form-control ",id:"city",value:s,onChange:A,required:!0,placeholder:"Field is required"})]}),(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsxs)("label",{htmlFor:"state",id:"CardText",className:"form-label",children:["State"," ",(0,i.jsxs)("span",{className:"text-danger",children:[" ",(0,i.jsx)("b",{children:"*"})]})]}),(0,i.jsx)("input",{style:{color:"black",backgroundColor:"white"},type:"text",className:"form-control ",id:"state",value:r,onChange:I,required:!0,placeholder:"Field is required"})]}),(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsxs)("label",{htmlFor:"country",id:"CardText",className:"form-label",children:["Country"," ",(0,i.jsxs)("span",{className:"text-danger",children:[" ",(0,i.jsx)("b",{children:"*"})]})]}),(0,i.jsx)("input",{style:{color:"black",backgroundColor:"white"},type:"text",className:"form-control ",id:"country",value:l,required:!0,disabled:!0,placeholder:"Field is required"})]}),null!==J&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{})}),(0,i.jsxs)("div",{className:"address-options mt-2",children:[(0,i.jsxs)("label",{className:"radio-label",id:"CardText",children:[(0,i.jsx)("input",{type:"radio",name:"sameAsDeliveryOption",checked:T,onChange:y}),(0,i.jsx)("span",{className:"radio-custom"}),"Use Delivery address"]}),(0,i.jsxs)("label",{className:"radio-label",id:"CardText",children:[(0,i.jsx)("input",{type:"radio",name:"sameAsDeliveryOption",checked:!T,onChange:y}),(0,i.jsx)("span",{className:"radio-custom"}),"Enter different address"]})]}),(0,i.jsx)(h,{sameAsDelivery:T,streetAddress:u,postalCode:m,city:C,state:j,country:v,handleStreetAddressChange:e=>x(e.target.value),handleZipCodeChange:e=>p(e.target.value),handleCityChange:e=>S(e.target.value),handleStateChange:e=>N(e.target.value),handleCountryChange:e=>f(e.target.value)})]})]})};var g=a(6926),u=a(2984),p=a.n(u),y=a(4423);const x=()=>{const e=(0,r.s0)(),t=JSON.parse(localStorage.getItem("isloggedIn")),a=JSON.parse(localStorage.getItem("deliveryAddress")||"{}"),o=JSON.parse(localStorage.getItem("orderType")||"{}"),n=JSON.parse(localStorage.getItem("shippingInfo")||"{}"),u=JSON.parse(localStorage.getItem("emailOrMobile"))||"",x=JSON.parse(localStorage.getItem("otpVerified")||"{}"),b=JSON.parse(localStorage.getItem("orderNotes")),C=JSON.parse(localStorage.getItem("billingAddress")||"{}"),S=JSON.parse(localStorage.getItem("user")),N=JSON.parse(localStorage.getItem("restaurantLongitude")),f=JSON.parse(localStorage.getItem("restaurantLatitude")),[j,v]=(0,s.useState)(""),[k,O]=(0,s.useState)(o||""),[A,I]=(0,s.useState)(""),[T,w]=(0,s.useState)([]),[F,J]=(0,s.useState)(a&&a.streetAddress||C&&C.streetAddress||""),[E,P]=(0,s.useState)(a.city||C.city||""),[q,Z]=(0,s.useState)("US"),[D,B]=(0,s.useState)(a.state||C.state||""),[L,_]=(0,s.useState)(a.postal_code||C.postal_code||""),[M,U]=(0,s.useState)(b||""),[z,R]=(0,s.useState)(b||""),[K,V]=(0,s.useState)(!1),[G,$]=(0,s.useState)(x||!1),[H,Q]=(0,s.useState)(null),[W,X]=(0,s.useState)(""),[Y,ee]=(0,s.useState)({message:"",type:""}),[te,ae]=(0,s.useState)(null),[se,re]=(0,s.useState)(t?S.name:n.name||""),[le,oe]=(0,s.useState)(t?S.lastName:n.lastName||""),[ne,ie]=(0,s.useState)(t?S.email:n.email||""),[de,ce]=(0,s.useState)(!1),[he,me]=(0,s.useState)(!1),[ge,ue]=(0,s.useState)(!1),[pe,ye]=(0,s.useState)(null),[xe,be]=(0,s.useState)(!1),[Ce,Se]=(0,s.useState)(u||""),[Ne,fe]=(0,s.useState)({latitude:null,longitude:null}),[je,ve]=(0,s.useState)({latitude:null,longitude:null}),[ke,Oe]=(0,s.useState)(null),[Ae,Ie]=(0,s.useState)(t?S.phone:""),[Te,we]=(0,s.useState)({}),[Fe,Je]=(JSON.parse(localStorage.getItem("lat")),JSON.parse(localStorage.getItem("lng")),(0,s.useState)(null)),Ee=((0,r.TH)().state,e=>{const t=e.target.value;U(t),localStorage.setItem("orderNotes",JSON.stringify(t))}),Pe=e=>{J(e.target.value)},qe=e=>{P(e.target.value)},Ze=e=>{Z(e.target.value)},De=e=>{B(e.target.value)},Be=e=>{_(e.target.value)},[Le,_e]=(0,s.useState)(!1),[Me,Ue]=(0,s.useState)(C.streetAddress||""),[ze,Re]=(0,s.useState)(a.postal_code||C.postal_code||""),[Ke,Ve]=(0,s.useState)(C.city||""),[Ge,$e]=(0,s.useState)(C.state||""),[He,Qe]=(0,s.useState)("US"),We=JSON.parse(localStorage.getItem("restaurantId")),Xe=async e=>{const t="".concat(Me,", ").concat(Ke,", ").concat(Ge,", ").concat(ze,", ").concat(He);try{const e=await(async e=>{try{const t=encodeURIComponent(e),a=await l.Z.get("https://api.geoapify.com/v1/geocode/search?text=".concat(t,"&apiKey=").concat(te));if(!a.data.features||0===a.data.features.length)throw new Error("Coordinates not found for the given billing address");const s=a.data.features[0],{lat:r,lon:o}=s.properties;return localStorage.setItem("billingLat",JSON.stringify(r)),localStorage.setItem("billingLng",JSON.stringify(o)),me(!0),{latitude:r,longitude:o}}catch(t){throw me(!1),t}})(t);ve(e)}catch(a){ee({message:"Enter the correct address!",type:"error"})}},Ye=async e=>{e.preventDefault();const t="".concat(F,", ").concat(E,", ").concat(D,", ").concat(L||ze,", ").concat(q);try{const e=await(async e=>{try{const t=encodeURIComponent(e),a=await l.Z.get("https://api.geoapify.com/v1/geocode/search?text=".concat(t,"&apiKey=").concat(te));if(!a.data.features||0===a.data.features.length)throw new Error("Coordinates not found for the given billing address");const s=a.data.features[0],{lat:r,lon:o}=s.properties;return me(!0),localStorage.setItem("billingLat",JSON.stringify(r)),localStorage.setItem("billingLng",JSON.stringify(o)),{latitude:r,longitude:o}}catch(t){throw t}})(t);ve(e)}catch(a){me(!1),ee({message:"Please enter the address correctly",type:"error"})}},et=async e=>{e.preventDefault();const t="".concat(F,", ").concat(E,", ").concat(D,", ").concat(L||ze,", ").concat(q);try{const e=await(async e=>{try{const t=encodeURIComponent(e),a=await l.Z.get("https://api.geoapify.com/v1/geocode/search?text=".concat(t,"&apiKey=").concat(te));if(!a.data.features||0===a.data.features.length)throw new Error("Coordinates not found for the given delivery address");const s=a.data.features[0],{lat:r,lon:o}=s.properties;return ce(!0),localStorage.setItem("deliveryLat",JSON.stringify(r)),localStorage.setItem("deliveryLng",JSON.stringify(o)),{latitude:r,longitude:o}}catch(t){throw t}})(t),a={latitude:f,longitude:N},s=(0,g.getDistance)(a,e)/1e3;console.log(s),ye(s),s<=W?ce(!0):(ce(!1),ee({message:"Delivery address is too far. Maximum delivery distance is ".concat(W," miles/km."),type:"success"})),fe(e)}catch(a){ce(!1),ee({message:"Please enter the address correctly",type:"error"})}};(0,s.useEffect)((()=>{(async()=>{try{const e=await l.Z.get("/api/admin/settings/getbyId",{params:{restaurantId:We}});X(e.data.data.deliveryKm),console.log(W)}catch(e){console.error("Error fetching restaurant details:",e),ee({message:"Error fetching delivery & tax charges",type:"error"})}})(),(async()=>{try{const e=JSON.parse(localStorage.getItem("restaurantId")),t=(await l.Z.post("/api/timeSlots",{restaurantId:e})).data.timeSlots;w(t)}catch(e){ee({message:"Error fetching time slots",type:"error"})}})()}),[W]),(0,s.useEffect)((()=>{l.Z.get("/api/get-location-api-key").then((e=>{const t=e.data.apiKey,a=tt(t);Q(a)})).catch((e=>{ee({message:"Error fetching API key",type:"error"})})),l.Z.get("/api/locationApikey").then((e=>{const t=e.data.apiKey,a=tt(t);ae(a)})).catch((e=>{console.error("Error fetching API key:",e),ee({message:"Error fetching API key",type:"error"})}))}),[]);const tt=e=>{try{const t=p().AES.decrypt(e,"ghjdjdgdhddjjdhgdcdghww#hsh536");return t.toString(p().enc.Utf8)}catch(t){return console.error("Error decrypting API key:",t),""}};return(0,s.useEffect)((()=>{localStorage.setItem("billingAddress",JSON.stringify({streetAddress:Me,postal_code:ze,city:Ke,state:Ge,country:He}))}),[Me,ze,Ke,Ge,He]),(0,s.useEffect)((()=>{localStorage.setItem("deliveryAddress",JSON.stringify({streetAddress:F,postal_code:L,city:E,state:D,country:q}))}),[F,L,E,D,q]),(0,s.useEffect)((()=>{Le&&(ge?(Ue(ke.features[0].properties.address_line1),Re(ke.features[0].properties.postcode),Ve(ke.features[0].properties.city),$e(ke.features[0].properties.state),Qe(ke.features[0].properties.country)):(Ue(F),Re(L),Ve(E),$e(D),Qe(q)))}),[Le,F,L,E,D,q]),(0,s.useEffect)((()=>{(!0===he&&!0===de||"Pickup"===k&&!0===he)&&(ee({message:"Address verified",type:"success"}),e("/order/confirm"))}),[he,de,k,e]),(0,i.jsx)("div",{id:"ShippingInfo",className:"py-5 bg-white",children:(0,i.jsxs)("div",{className:"container col-11 mx-auto bg-white col-lg-6 py-3 custom-table my-4",id:"CardBackIMg",children:[Y.message&&(0,i.jsx)(y.Z,{message:Y.message,type:Y.type,onClose:()=>{ee({message:"",type:""})}}),(0,i.jsxs)("form",{className:"checkout-form bg-white",onSubmit:async e=>{e.preventDefault();try{const t={orderType:k,name:se,lastName:le,email:ne,mobileNumber:Ae,textBox1:M,textBox2:z};"Pickup"===k?await Ye(e):await Xe(),"Delivery"===k?await et(e):await Xe(),localStorage.setItem("shippingInfo",JSON.stringify(t))}catch(t){console.error("Error submitting form:",t),ee({message:"Error submitting form. Please try again later.",type:"error"})}},children:[!t&&(0,i.jsx)(d,{name:se,lastName:le,email:ne,otp:j,handleGetOtp:async()=>{try{const e="/api/send/otp",t=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(Ce);console.log(t);const a=/^\d{10}$/.test(Ce);await l.Z.post(e,{email:t?Ce:void 0,mobile:a?Ce:void 0}),ee({message:"OTP sent successfully!",type:"success"}),V(!0)}catch(e){ee({message:"Error sending OTP!",type:"error"})}},isOtpSent:K,otpVerified:G,emailOrMobile:Ce,handleConfirmOtp:async()=>{try{const e=p().AES.encrypt(j,"ghjdjdgdhddjjdhgdcdghww#hsh536").toString(),t="/api/verify/otp";(await l.Z.post(t,{email:Ce,mobile:Ce,enteredOtp:e})).data.success?(ee({message:"OTP verified successfully! ",type:"success"}),localStorage.setItem("emailOrMobile",JSON.stringify(Ce)),$(!0),localStorage.setItem("otpVerified",JSON.stringify(G))):ee({message:"OTP verification failed!",type:"success"})}catch(e){ee({message:"OTP verification failed!",type:"error"})}},handleFirstNameChange:e=>{re(e.target.value),localStorage.setItem("name",JSON.stringify(se))},handleLastNameChange:e=>{oe(e.target.value),localStorage.setItem("lastName",JSON.stringify(le))},handleEmailChange:e=>{ie(e.target.value)},handleOtpChange:e=>{v(e.target.value)},handleEmailOrMobileChange:e=>{Se(e.target.value)},errors:Te}),(G||t)&&(0,i.jsx)(c,{orderType:k,selectedTimeSlot:A,timeSlots:T,handleOrderTypeChange:e=>{me(!1),ce(!1);const t=e.target.value;localStorage.setItem("orderType",JSON.stringify(t)),O(t)},handleTimeSlotChange:e=>{const t=e.target.value;I(t),localStorage.setItem("selectedTimeSlot",JSON.stringify(t))},handleTimeChange:e=>{Je(e)},time:Fe,textBox1:M,handleText1:Ee}),"Delivery"===k&&(0,i.jsx)(m,{streetAddress:F,postal_code:L,setPostal_code:_,city:E,state:D,country:q,textBox2:z,setBillingVerified:me,handleStreetAddressChange:Pe,handleZipCodeChange:Be,handleCityChange:qe,handleStateChange:De,handleCountryChange:Ze,handleText2:e=>{const t=e.target.value;R(t),localStorage.setItem("deliveryInstruction",JSON.stringify(t))},toastShown:xe,setToastShown:be,useCurrentLocation:ge,userLocation:ke,sameAsDelivery:Le,billingCity:Ke,billingState:Ge,billingCountry:He,setBillingStreetAddress:Ue,handleSameAsDeliveryChange:()=>{_e(!Le),Le?(Ue(""),Re(""),Ve(""),$e(""),localStorage.removeItem("billingAddress")):(Ue(F),Re(ze),Ve(E),$e(D),Qe(q))},billingStreetAddress:Me,billingPostalCode:ze,setBillingPostalCode:Re,setBillingCity:Ve,setBillingState:$e,setBillingCountry:Qe,coordinates:Ne,distanceResult:pe}),"Pickup"===k&&(0,i.jsx)(h,{streetAddress:F,postal_code:L,city:E,state:D,country:q,textBox1:M,billingPostalCode:ze,setBillingPostalCode:Re,handleStreetAddressChange:Pe,handleZipCodeChange:Be,handleCityChange:qe,handleStateChange:De,handleCountryChange:Ze,handleText1:Ee,orderType:k}),(0,i.jsx)("div",{className:"d-flex justify-content-center",children:(0,i.jsx)("button",{type:"submit",id:"checkout_btn",className:"btn my-4",children:"Continue"})})]})]})})}},2480:()=>{}}]);