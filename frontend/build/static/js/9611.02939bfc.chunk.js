(self.webpackChunkrestaurant=self.webpackChunkrestaurant||[]).push([[9611],{3113:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>h});var r=s(7313),t=s(6573),n=s(195),l=s(3298),c=s(2984),d=s.n(c),i=s(4423),o=s(2135),m=s(6417);const h=()=>{const[e,a]=(0,r.useState)({name:"",lastName:"",password:"",confirmPassword:"",email:"",role:"",confirmEmail:"",phone:"",restaurantBranch:"",restaurantId:""}),[s,c]=(0,r.useState)([]),[h,u]=(0,r.useState)([]),[p,x]=(0,r.useState)({message:"",type:""}),b=e=>{const{name:r,value:t}=e.target,n=h.find(((e,a)=>s[a]===t));a((e=>({...e,[r]:t,restaurantBranch:"restaurantBranch"===r?t:e.restaurantBranch,restaurantId:"restaurantBranch"===r?n:e.restaurantId})))};return(0,r.useEffect)((()=>{(async()=>{try{const e=(await t.Z.get("/api/restaurant/get")).data.data,a=e.map((e=>e.restaurantBranch)),s=e.map((e=>e.restaurantId));c(a),u(s)}catch(e){console.error("Error fetching restaurant data:",e)}})()}),[]),(0,m.jsx)("div",{className:"bg-white text-black py-5",children:(0,m.jsxs)(n.Z,{className:"address-container container  p-4 col-md-8 col-lg-6 col-xl-4 Cardimg123",children:[p.message&&(0,m.jsx)(i.Z,{message:p.message,type:p.type,onClose:()=>{x({message:"",type:""})}}),(0,m.jsxs)("form",{onSubmit:async s=>{s.preventDefault();const r=d().AES.encrypt(e.password,"ghjdjdgdhddjjdhgdcdghww#hsh536").toString();try{await t.Z.post("/api/register",{...e,password:r});x({message:"Verification email sent! Please check your inbox to log in. Note: Your registration will be removed after 10 minutes if the email is not verified ",type:"success"}),a({name:"",lastName:"",password:"",confirmPassword:"",email:"",role:"",confirmEmail:"",phone:"",restaurantBranch:"",restaurantId:""})}catch(n){console.error("error",n.response.data.message),x({message:n.response.data.message,type:"error"})}},className:"text-black",children:[(0,m.jsx)("div",{children:(0,m.jsx)("h2",{className:"text-black uppercase",children:"Create Admin"})}),(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsxs)("label",{htmlFor:"name",children:["First name:",(0,m.jsxs)("span",{className:"text-danger",children:[" ",(0,m.jsx)("b",{children:"*"})]})]}),(0,m.jsx)("input",{style:{backgroundColor:"white",color:"black"},type:"text",className:"form-control ",id:"name",name:"name",required:!0,placeholder:"Field is required",value:e.name,onChange:b})]}),(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsxs)("label",{htmlFor:"lastName",children:["Last name:",(0,m.jsxs)("span",{className:"text-danger",children:[" ",(0,m.jsx)("b",{children:"*"})]})]}),(0,m.jsx)("input",{style:{backgroundColor:"white",color:"black"},type:"text",className:"form-control ",id:"lastName",name:"lastName",placeholder:"Field is required",value:e.lastName,onChange:b,required:!0})]}),(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsxs)("label",{htmlFor:"email",children:["Email:",(0,m.jsxs)("span",{className:"text-danger",children:[" ",(0,m.jsx)("b",{children:"*"})]})]}),(0,m.jsx)("input",{style:{backgroundColor:"white",color:"black"},type:"email",className:"form-control ",id:"email1",name:"email",placeholder:"Field is required",value:e.email,onChange:b,required:!0})]}),(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsxs)("label",{htmlFor:"password",children:["Password:",(0,m.jsxs)("span",{className:"text-danger",children:[" ",(0,m.jsx)("b",{children:"*"})]})]}),(0,m.jsx)("input",{style:{backgroundColor:"white",color:"black"},type:"password",id:"password",className:"form-control ",name:"password",placeholder:"Field is required",value:e.password,onChange:b,required:!0})]}),(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsxs)("label",{htmlFor:"phone",children:["Phone:",(0,m.jsxs)("span",{className:"text-danger",children:[" ",(0,m.jsx)("b",{children:"*"})]})]}),(0,m.jsx)("input",{style:{backgroundColor:"white",color:"black"},type:"tel",id:"phone",name:"phone",className:"form-control ",placeholder:"Field is required",value:e.phone,onChange:b,required:!0})]}),(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsxs)("label",{htmlFor:"role",id:"CardText",children:["Role:",(0,m.jsxs)("span",{className:"text-danger",children:[" ",(0,m.jsx)("b",{children:"*"})]})]}),(0,m.jsxs)("select",{style:{backgroundColor:"white",color:"black"},className:"form-control",id:"role",name:"role",value:e.role,onChange:b,required:!0,children:[(0,m.jsx)("option",{value:"",disabled:!0,children:"Select Role"}),(0,m.jsx)("option",{value:"superAdmin",style:{backgroundColor:"white",color:"black"},children:"Super Admin"}),(0,m.jsx)("option",{value:"admin",style:{backgroundColor:"white",color:"black"},children:"Admin"})]})]}),"superAdmin"!==e.role&&(0,m.jsxs)("div",{className:"mb-3",children:[(0,m.jsxs)("label",{htmlFor:"restaurantBranch",id:"CardText",children:["Restaurant Branch:",(0,m.jsxs)("span",{className:"text-danger",children:[" ",(0,m.jsx)("b",{children:"*"})]})]}),(0,m.jsxs)("select",{style:{backgroundColor:"white",color:"black"},id:"restaurantBranch",className:"form-control",name:"restaurantBranch",value:e.restaurantBranch,onChange:b,required:!0,children:[(0,m.jsx)("option",{value:"",children:"Select Branch"}),s&&s.map((e=>(0,m.jsx)("option",{value:e,children:e},e)))]})]}),(0,m.jsx)("div",{className:"mb-3",children:(0,m.jsx)("input",{type:"hidden",id:"restaurantId",name:"restaurantId",value:e.restaurantId})}),(0,m.jsx)("div",{className:"mb-3 d-flex justify-content-center",children:(0,m.jsx)(l.Z,{type:"submit",className:" btn my-3 px-4 btn rounded w-100 mb-4 mt-3",children:"Create Admin"})}),(0,m.jsx)("div",{className:"d-flex justify-content-center",children:(0,m.jsx)(o.rU,{to:"/admin/users",className:"btn my-3 px-4 btn rounded w-100 my-4",children:"Back"})})]})]})})}},3298:(e,a,s)=>{"use strict";s.d(a,{Z:()=>o});var r=s(6123),t=s.n(r),n=s(7313),l=s(6184),c=s(8524),d=s(6417);const i=n.forwardRef(((e,a)=>{let{as:s,bsPrefix:r,variant:n="primary",size:i,active:o=!1,disabled:m=!1,className:h,...u}=e;const p=(0,c.vE)(r,"btn"),[x,{tagName:b}]=(0,l.FT)({tagName:s,disabled:m,...u}),j=b;return(0,d.jsx)(j,{...x,...u,ref:a,disabled:m,className:t()(h,p,o&&"active",n&&"".concat(p,"-").concat(n),i&&"".concat(p,"-").concat(i),u.href&&m&&"disabled")})}));i.displayName="Button";const o=i},2480:()=>{}}]);