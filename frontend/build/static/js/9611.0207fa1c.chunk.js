(self.webpackChunkrestaurant=self.webpackChunkrestaurant||[]).push([[9611],{3113:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>m});var r=s(7313),l=s(6573),t=s(195),n=s(3298),c=s(2984),d=s.n(c),o=s(4423),i=s(6417);const m=()=>{const[e,a]=(0,r.useState)({name:"",lastName:"",password:"",confirmPassword:"",email:"",role:"",confirmEmail:"",phone:"",restaurantBranch:"",restaurantId:""}),[s,c]=(0,r.useState)([]),[m,h]=(0,r.useState)([]),[u,p]=(0,r.useState)({message:"",type:""}),x=e=>{const{name:r,value:l}=e.target,t=m.find(((e,a)=>s[a]===l));a((e=>({...e,[r]:l,restaurantBranch:"restaurantBranch"===r?l:e.restaurantBranch,restaurantId:"restaurantBranch"===r?t:e.restaurantId})))};return(0,r.useEffect)((()=>{(async()=>{try{const e=(await l.Z.get("/api/restaurant/get")).data.data,a=e.map((e=>e.restaurantBranch)),s=e.map((e=>e.restaurantId));c(a),h(s)}catch(e){console.error("Error fetching restaurant data:",e)}})()}),[]),(0,i.jsx)("div",{className:"bg-white text-black py-5",children:(0,i.jsxs)(t.Z,{className:"address-container container  p-4 col-md-8 col-lg-6 col-xl-4 Cardimg123",children:[u.message&&(0,i.jsx)(o.Z,{message:u.message,type:u.type,onClose:()=>{p({message:"",type:""})}}),(0,i.jsxs)("form",{onSubmit:async s=>{s.preventDefault();const r=d().AES.encrypt(e.password,"ghjdjdgdhddjjdhgdcdghww#hsh536").toString();try{await l.Z.post("/api/register",{...e,password:r});p({message:"Registration successful! please verify your ",type:"success"}),a({name:"",lastName:"",password:"",confirmPassword:"",email:"",role:"",confirmEmail:"",phone:"",restaurantBranch:"",restaurantId:""})}catch(t){console.error("error",t.response.data.message),p({message:t.response.data.message,type:"error"})}},className:"text-black",children:[(0,i.jsx)("div",{children:(0,i.jsx)("h2",{className:"text-black uppercase",children:"Create Admin"})}),(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsxs)("label",{htmlFor:"name",children:["First name:",(0,i.jsxs)("span",{className:"text-danger",children:[" ",(0,i.jsx)("b",{children:"*"})]})]}),(0,i.jsx)("input",{style:{backgroundColor:"white",color:"black"},type:"text",className:"form-control ",id:"name",name:"name",required:!0,placeholder:"Field is required",value:e.name,onChange:x})]}),(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsxs)("label",{htmlFor:"lastName",children:["Last name:",(0,i.jsxs)("span",{className:"text-danger",children:[" ",(0,i.jsx)("b",{children:"*"})]})]}),(0,i.jsx)("input",{style:{backgroundColor:"white",color:"black"},type:"text",className:"form-control ",id:"lastName",name:"lastName",placeholder:"Field is required",value:e.lastName,onChange:x,required:!0})]}),(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsxs)("label",{htmlFor:"email",children:["Email:",(0,i.jsxs)("span",{className:"text-danger",children:[" ",(0,i.jsx)("b",{children:"*"})]})]}),(0,i.jsx)("input",{style:{backgroundColor:"white",color:"black"},type:"email",className:"form-control ",id:"email1",name:"email",placeholder:"Field is required",value:e.email,onChange:x,required:!0})]}),(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsxs)("label",{htmlFor:"password",children:["Password:",(0,i.jsxs)("span",{className:"text-danger",children:[" ",(0,i.jsx)("b",{children:"*"})]})]}),(0,i.jsx)("input",{style:{backgroundColor:"white",color:"black"},type:"password",id:"password",className:"form-control ",name:"password",placeholder:"Field is required",value:e.password,onChange:x,required:!0})]}),(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsxs)("label",{htmlFor:"phone",children:["Phone:",(0,i.jsxs)("span",{className:"text-danger",children:[" ",(0,i.jsx)("b",{children:"*"})]})]}),(0,i.jsx)("input",{style:{backgroundColor:"white",color:"black"},type:"tel",id:"phone",name:"phone",className:"form-control ",placeholder:"Field is required",value:e.phone,onChange:x,required:!0})]}),(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsxs)("label",{htmlFor:"role",id:"CardText",children:["Role:",(0,i.jsxs)("span",{className:"text-danger",children:[" ",(0,i.jsx)("b",{children:"*"})]})]}),(0,i.jsxs)("select",{style:{backgroundColor:"white",color:"black"},className:"form-control",id:"role",name:"role",value:e.role,onChange:x,required:!0,children:[(0,i.jsx)("option",{value:"",disabled:!0,children:"Select Role"}),(0,i.jsx)("option",{value:"superAdmin",style:{backgroundColor:"white",color:"black"},children:"Super Admin"}),(0,i.jsx)("option",{value:"admin",style:{backgroundColor:"white",color:"black"},children:"Admin"})]})]}),"superAdmin"!==e.role&&(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsxs)("label",{htmlFor:"restaurantBranch",id:"CardText",children:["Restaurant Branch:",(0,i.jsxs)("span",{className:"text-danger",children:[" ",(0,i.jsx)("b",{children:"*"})]})]}),(0,i.jsxs)("select",{style:{backgroundColor:"white",color:"black"},id:"restaurantBranch",className:"form-control",name:"restaurantBranch",value:e.restaurantBranch,onChange:x,required:!0,children:[(0,i.jsx)("option",{value:"",children:"Select Branch"}),s&&s.map((e=>(0,i.jsx)("option",{value:e,children:e},e)))]})]}),(0,i.jsx)("div",{className:"mb-3",children:(0,i.jsx)("input",{type:"hidden",id:"restaurantId",name:"restaurantId",value:e.restaurantId})}),(0,i.jsx)("div",{className:"mb-3 d-flex justify-content-center",children:(0,i.jsx)(n.Z,{type:"submit",className:" btn my-3 px-4 btn rounded w-100 mb-4 mt-3",children:"Create Admin"})})]})]})})}},3298:(e,a,s)=>{"use strict";s.d(a,{Z:()=>i});var r=s(6123),l=s.n(r),t=s(7313),n=s(6184),c=s(8524),d=s(6417);const o=t.forwardRef(((e,a)=>{let{as:s,bsPrefix:r,variant:t="primary",size:o,active:i=!1,disabled:m=!1,className:h,...u}=e;const p=(0,c.vE)(r,"btn"),[x,{tagName:b}]=(0,n.FT)({tagName:s,disabled:m,...u}),j=b;return(0,d.jsx)(j,{...x,...u,ref:a,disabled:m,className:l()(h,p,i&&"active",t&&"".concat(p,"-").concat(t),o&&"".concat(p,"-").concat(o),u.href&&m&&"disabled")})}));o.displayName="Button";const i=o},2480:()=>{}}]);