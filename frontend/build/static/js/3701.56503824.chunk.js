"use strict";(self.webpackChunkrestaurant=self.webpackChunkrestaurant||[]).push([[3701],{3701:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var o=a(7313),s=a(6573),n=a(4491),c=(a(8282),a(6417));const i=()=>{const[e,t]=(0,o.useState)(null),[a,i]=(0,o.useState)(!1),[l,r]=(0,o.useState)(null),u=e=>n.Am.error(e),d=async()=>{try{if(navigator.geolocation){const a=await new Promise(((e,t)=>{navigator.geolocation.getCurrentPosition(e,t)})),{latitude:o,longitude:c}=a.coords;t({latitude:o,longitude:c});const l=" https://api.geoapify.com/v1/geocode/reverse?lat=".concat(o,"&lon=").concat(c,"&apiKey=70348c75b2aa4bd0b91fcba1f9e3a0dc"),u=await s.Z.get(l),{data:d}=u;console.log(d),e="Location fetched successfully.",n.Am.success(e),i(!0);const g=await s.Z.post("/api/calculate-distance",{latitude:o,longitude:c}),{distanceInKilometers:p}=g.data;r(p)}else u("Geolocation is not supported by your browser")}catch(a){console.error("Error getting location:",a.message),u(a.message)}var e};return(0,o.useEffect)((()=>{a||d()}),[a]),(0,c.jsx)("div",{children:e?(0,c.jsxs)("div",{children:[(0,c.jsxs)("p",{children:["Latitude: ",e.latitude]}),(0,c.jsxs)("p",{children:["Longitude: ",e.longitude]}),null!==l&&(0,c.jsxs)("p",{children:["Distance: ",l," kilometers"]})]}):(0,c.jsx)("p",{children:"Loading location..."})})}}}]);