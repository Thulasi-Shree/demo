"use strict";(self.webpackChunkrestaurant=self.webpackChunkrestaurant||[]).push([[2013],{4423:(e,a,s)=>{s.d(a,{Z:()=>t});s(7313);var r=s(6417);const t=e=>{let{message:a,type:s,onClose:t}=e;return(0,r.jsx)("div",{className:"modal",style:{display:"block"},children:(0,r.jsxs)("div",{className:"modal-content",children:[(0,r.jsx)("span",{className:"close",onClick:t,children:"\xd7"}),(0,r.jsx)("p",{className:s,children:a})]})})}},2013:(e,a,s)=>{s.r(a),s.d(a,{default:()=>i});var r=s(7313),t=s(8467),l=s(6573),c=s(195),o=(s(1804),s(4423)),n=s(6417);const i=()=>{const[e,a]=(0,r.useState)(""),[s,i]=(0,r.useState)(""),[d,m]=(0,r.useState)(""),[u,p]=(0,r.useState)(""),[f,h]=(0,r.useState)({message:"",type:""}),[x,g]=(0,r.useState)(""),[y,v]=(0,r.useState)(""),[N,b]=(0,r.useState)(""),[j,C]=(0,r.useState)(!1),[k,w]=(0,r.useState)([]),[P,S]=(0,r.useState)(!1),[_,F]=(0,r.useState)([]),{id:R}=(0,t.UO)();return(0,r.useEffect)((()=>{(async()=>{try{const e=(await l.Z.get("/api/product/".concat(R))).data.menu;a(e.name),i(e.price),C(e.isAvailable),m(e.description),v(e.restaurantId),b(e.restaurantBranch),p(e.dietaryPreferenceCategory),g(e.mealTypeCategory);const s=e.images.map((e=>e.image));F(s)}catch(e){f(e.message||"An error occurred")}})()}),[R]),(0,n.jsx)("div",{className:"bg-white py-1 text-black",children:(0,n.jsx)("div",{className:"container-fluid",children:(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{className:"col-lg-8  mx-auto col-xs-12 col-md-10 my-5",children:(0,n.jsxs)(c.Z,{className:"Cardimg123",children:[f.message&&(0,n.jsx)(o.Z,{message:f.message,type:f.type,onClose:()=>{h({message:"",type:""})}}),(0,n.jsxs)("form",{onSubmit:async a=>{a.preventDefault();const r=new FormData;r.append("name",e),r.append("price",s),r.append("isAvailable",j||!1),r.append("description",d),r.append("restaurantId",y),r.append("restaurantBranch",N),r.append("mealTypeCategory",x),r.append("dietaryPreferenceCategory",u),k.forEach((e=>{r.append("images",e)})),r.append("imagesCleared",P);try{await l.Z.put("/api/admin/product/".concat(R),r),h({message:"Product Updated Successfully!",type:"success"}),w([])}catch(t){h({message:t.message||"An error occurred",type:"error"})}},className:"shadow-lg p-4",encType:"multipart/form-data",children:[(0,n.jsx)("h1",{className:"mb-4",children:"Update Product"}),(0,n.jsxs)("div",{className:"form-group mt-2",children:[(0,n.jsx)("label",{htmlFor:"name_field",children:"Name"}),(0,n.jsx)("input",{style:{backgroundColor:"white",color:"black"},type:"text",id:"name_field",className:"form-control mt-2",onChange:e=>a(e.target.value),value:e})]}),(0,n.jsxs)("div",{className:"form-group mt-2",children:[(0,n.jsx)("label",{htmlFor:"price_field",children:"Price"}),(0,n.jsx)("input",{style:{backgroundColor:"white",color:"black"},type:"text",id:"price_field",className:"form-control mt-2",onChange:e=>i(e.target.value),value:s})]}),(0,n.jsxs)("div",{className:"form-group mt-2",children:[(0,n.jsx)("label",{htmlFor:"description_field",children:"Description"}),(0,n.jsx)("textarea",{style:{backgroundColor:"white",color:"black"},className:"form-control mt-2",id:"description_field",rows:"4",onChange:e=>m(e.target.value),value:d})]}),(0,n.jsxs)("div",{className:"form-group mt-2",children:[(0,n.jsx)("label",{htmlFor:"category_field",children:"Dietary Preference Category"}),(0,n.jsxs)("select",{style:{backgroundColor:"white",color:"black"},value:u,onChange:e=>p(e.target.value),className:"form-control mt-2",id:"category_field",children:[(0,n.jsx)("option",{value:"",children:"Select"}),["Vegetarian","Non-vegetarian","Vegan","Gluten-Free","Halal","Other"].map((e=>(0,n.jsx)("option",{value:e,children:e},e)))]})]}),(0,n.jsxs)("div",{className:"form-group mt-2",children:[(0,n.jsx)("label",{htmlFor:"category_field",children:"Meal Type Category"}),(0,n.jsxs)("select",{style:{backgroundColor:"white",color:"black"},value:x,onChange:e=>p(e.target.value),className:"form-control",id:"category_field",children:[(0,n.jsx)("option",{value:"",children:"Select"}),["Appetizers","Main Course","Desserts","Beverages","Other"].map((e=>(0,n.jsx)("option",{value:e,children:e},e)))]})]}),(0,n.jsxs)("div",{className:"form-group mt-2",children:[(0,n.jsx)("label",{htmlFor:"stock_field",children:"Is Available"}),(0,n.jsx)("input",{style:{backgroundColor:"white",color:"black"},type:"checkbox",id:"stock_field",className:"form-check-input mt-2",onChange:()=>{C((e=>!e))},checked:j})]}),(0,n.jsxs)("div",{className:"form-group mt-2",children:[(0,n.jsx)("label",{htmlFor:"seller_field",children:"Restaurant Id"}),(0,n.jsx)("input",{style:{backgroundColor:"white",color:"black"},type:"text",id:"seller_field",className:"form-control mt-2",readOnly:!0,onChange:e=>v(e.target.value),value:y})]}),(0,n.jsxs)("div",{className:"form-group mt-2",children:[(0,n.jsx)("label",{htmlFor:"seller_field",children:"Restaurant Branch"}),(0,n.jsx)("input",{style:{backgroundColor:"white",color:"black"},type:"text",id:"seller_field",className:"form-control mt-2",readOnly:!0,onChange:e=>b(e.target.value),value:N})]}),(0,n.jsxs)("div",{className:"form-group mt-2",children:[(0,n.jsx)("label",{children:"Images"}),(0,n.jsxs)("div",{className:"custom-file mt-2",children:[(0,n.jsx)("input",{style:{backgroundColor:"transparent",borderRadius:"30px"},type:"file",name:"product_images",className:"form-control mt-2",id:"customFile",multiple:!0,onChange:e=>{Array.from(e.target.files).forEach((e=>{const a=new FileReader;a.onload=()=>{2===a.readyState&&(F((e=>[...e,a.result])),w((a=>[...a,e])))},a.readAsDataURL(e)}))}}),(0,n.jsx)("label",{className:"custom-file-label mt-2",htmlFor:"customFile",children:"Choose Images"})]}),_.length>0&&(0,n.jsx)("span",{className:"m-3",onClick:()=>{w([]),F([]),S(!0)},style:{cursor:"pointer"},children:(0,n.jsx)("i",{className:"fa fa-trash"})}),_.map((e=>(0,n.jsx)("img",{className:"image-preview mt-2",src:e,alt:"Image Preview",width:"55",height:"52"},e)))]}),(0,n.jsx)("div",{className:"d-flex justify-content-center",children:(0,n.jsx)("button",{id:"login_button",type:"submit",className:"btn my-3 px-4 btn rounded px-5 ",children:"UPDATE"})})]})]})})})})})}},195:(e,a,s)=>{s.d(a,{Z:()=>E});var r=s(6123),t=s.n(r),l=s(7313),c=s(8524),o=s(6417);const n=l.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:l="div",...n}=e;return r=(0,c.vE)(r,"card-body"),(0,o.jsx)(l,{ref:a,className:t()(s,r),...n})}));n.displayName="CardBody";const i=n,d=l.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:l="div",...n}=e;return r=(0,c.vE)(r,"card-footer"),(0,o.jsx)(l,{ref:a,className:t()(s,r),...n})}));d.displayName="CardFooter";const m=d;var u=s(5614);const p=l.forwardRef(((e,a)=>{let{bsPrefix:s,className:r,as:n="div",...i}=e;const d=(0,c.vE)(s,"card-header"),m=(0,l.useMemo)((()=>({cardHeaderBsPrefix:d})),[d]);return(0,o.jsx)(u.Z.Provider,{value:m,children:(0,o.jsx)(n,{ref:a,...i,className:t()(r,d)})})}));p.displayName="CardHeader";const f=p,h=l.forwardRef(((e,a)=>{let{bsPrefix:s,className:r,variant:l,as:n="img",...i}=e;const d=(0,c.vE)(s,"card-img");return(0,o.jsx)(n,{ref:a,className:t()(l?"".concat(d,"-").concat(l):d,r),...i})}));h.displayName="CardImg";const x=h,g=l.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:l="div",...n}=e;return r=(0,c.vE)(r,"card-img-overlay"),(0,o.jsx)(l,{ref:a,className:t()(s,r),...n})}));g.displayName="CardImgOverlay";const y=g,v=l.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:l="a",...n}=e;return r=(0,c.vE)(r,"card-link"),(0,o.jsx)(l,{ref:a,className:t()(s,r),...n})}));v.displayName="CardLink";const N=v;var b=s(6205);const j=(0,b.Z)("h6"),C=l.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:l=j,...n}=e;return r=(0,c.vE)(r,"card-subtitle"),(0,o.jsx)(l,{ref:a,className:t()(s,r),...n})}));C.displayName="CardSubtitle";const k=C,w=l.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:l="p",...n}=e;return r=(0,c.vE)(r,"card-text"),(0,o.jsx)(l,{ref:a,className:t()(s,r),...n})}));w.displayName="CardText";const P=w,S=(0,b.Z)("h5"),_=l.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:l=S,...n}=e;return r=(0,c.vE)(r,"card-title"),(0,o.jsx)(l,{ref:a,className:t()(s,r),...n})}));_.displayName="CardTitle";const F=_,R=l.forwardRef(((e,a)=>{let{bsPrefix:s,className:r,bg:l,text:n,border:d,body:m=!1,children:u,as:p="div",...f}=e;const h=(0,c.vE)(s,"card");return(0,o.jsx)(p,{ref:a,...f,className:t()(r,h,l&&"bg-".concat(l),n&&"text-".concat(n),d&&"border-".concat(d)),children:m?(0,o.jsx)(i,{children:u}):u})}));R.displayName="Card";const E=Object.assign(R,{Img:x,Title:F,Subtitle:k,Body:i,Link:N,Text:P,Header:f,Footer:m,ImgOverlay:y})},1804:()=>{}}]);