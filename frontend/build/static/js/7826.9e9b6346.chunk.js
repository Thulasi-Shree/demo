(self.webpackChunkrestaurant=self.webpackChunkrestaurant||[]).push([[7826],{7154:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>u});var r=a(7313),t=a(8467),d=a(5377),l=a.n(d),n=a(6573),c=a(2984),o=a.n(c),i=(a(763),a(195)),m=a(4423),h=a(6417);const u=()=>{const[e,s]=(0,r.useState)(""),[a,d]=(0,r.useState)({message:"",type:""}),[c,u]=(0,r.useState)(""),p=(0,r.useRef)(new(l())({className:"text-danger"})),g=(0,t.s0)(),{token:x}=(0,t.UO)();return(0,h.jsx)("div",{className:"py-4 bg-white text-black",children:(0,h.jsx)("div",{className:"container-fluid mx-auto col-md-5 mt-5 mb-4 ",children:(0,h.jsxs)(i.Z,{className:"Cardimg123",children:[a.message&&(0,h.jsx)(m.Z,{message:a.message,type:a.type,onClose:()=>{d({message:"",type:""})}}),(0,h.jsx)("form",{onSubmit:async s=>{if(s.preventDefault(),e.length<8)return void d({message:"Password must be at least 8 characters long.",type:"error"});if(!p.current.allValid())return d({message:"Password Reset failed!"}),void p.current.showMessages();const a=o().AES.encrypt(e,"ghjdjdgdhddjjdhgdcdghww#hsh536").toString(),r=o().AES.encrypt(c,"ghjdjdgdhddjjdhgdcdghww#hsh536").toString();if(e===c)try{await n.Z.put("/api/password/reset/".concat(x),{password:a,confirmPassword:r});d({message:"Reset success ",type:"success"}),g("/login")}catch(t){console.error("Password reset failed:",t),d({message:t.response.data.message,type:"error"})}else d({message:"Password and Confirm Password do not match! "})},children:(0,h.jsxs)("div",{className:"row  custom-table mx-3 my-5",id:"CardBackIMg1",children:[(0,h.jsxs)("div",{className:"col-md-12",children:[(0,h.jsx)("h3",{className:"text-center text-black mt-3 fs-2",children:"Reset password"}),(0,h.jsxs)("div",{className:"mb-3 address-container",children:[(0,h.jsxs)("label",{className:"form-label text-black ",htmlFor:"password_field",children:["Password",(0,h.jsxs)("span",{className:"text-danger",children:[" ",(0,h.jsx)("b",{children:"*"})]})]}),(0,h.jsx)("input",{type:"password",id:"password_field",placeholder:"Field is required",className:"form-control",value:e,onChange:e=>s(e.target.value),required:!0})]}),(0,h.jsxs)("div",{className:"mb-3 address-container",children:[(0,h.jsxs)("label",{className:"form-label text-black ",htmlFor:"confirm_password_field",children:["Confirm Password",(0,h.jsxs)("span",{className:"text-danger",children:[" ",(0,h.jsx)("b",{children:"*"})]})]}),(0,h.jsx)("input",{type:"password",id:"confirm_password_field",className:"form-control",placeholder:"Field is required",required:!0,value:c,onChange:e=>u(e.target.value)}),p.current.message("password",e,"required"),p.current.message("confirmPassword",c,"required|same:password")]})]}),(0,h.jsx)("div",{className:"mb-3 d-flex justify-content-center",children:(0,h.jsx)("button",{type:"submit",className:"btn my-3 px-4 btn border rounded  w-100 ",style:{borderRadius:"30px"},children:"Submit"})})]})})]})})})}},763:()=>{},2480:()=>{}}]);