"use strict";(self.webpackChunkrestaurant=self.webpackChunkrestaurant||[]).push([[9710],{9710:(e,a,s)=>{s.r(a),s.d(a,{default:()=>i});var t=s(7313),r=s(8467),c=s(4491),l=s(6573),o=s(6417);const i=()=>{const[e,a]=(0,t.useState)(""),[s,i]=(0,t.useState)([]),[m,n]=(0,t.useState)(!1),[d,u]=(0,t.useState)([]),{id:p}=(0,r.UO)();return(0,t.useEffect)((()=>{(async()=>{try{const e=(await l.Z.get("/api/carousel/".concat(p))).data.carousel;a(e.text);const s=e.images.map((e=>e.image));u(s)}catch(e){(0,c.Am)(e.message||"An error occurred",{type:"error",position:c.Am.POSITION.BOTTOM_CENTER})}})()}),[p]),(0,o.jsx)("div",{className:"row",children:(0,o.jsx)("div",{className:"col-12 col-md-10",children:(0,o.jsx)("div",{className:"wrapper my-5",children:(0,o.jsxs)("form",{onSubmit:async a=>{a.preventDefault();const t=new FormData;t.append("text",e),s.forEach((e=>{t.append("images",e)})),t.append("imagesCleared",m);try{await l.Z.put("/api/admin/carousel/".concat(p),t),(0,c.Am)("Product Updated Successfully!",{type:"success",position:c.Am.POSITION.BOTTOM_CENTER}),i([])}catch(r){(0,c.Am)(r.message||"An error occurred",{type:"error",position:c.Am.POSITION.BOTTOM_CENTER})}},className:"shadow-lg",encType:"multipart/form-data",children:[(0,o.jsx)("h1",{className:"mb-4",children:"Update Carousal"}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{htmlFor:"text_field",children:"text"}),(0,o.jsx)("textarea",{className:"form-control",id:"text_field",rows:"8",onChange:e=>a(e.target.value),value:e})]}),(0,o.jsxs)("div",{className:"form-group",children:[(0,o.jsx)("label",{children:"Images"}),(0,o.jsxs)("div",{className:"custom-file",children:[(0,o.jsx)("input",{type:"file",name:"product_images",className:"custom-file-input",id:"customFile",multiple:!0,onChange:e=>{Array.from(e.target.files).forEach((e=>{const a=new FileReader;a.onload=()=>{2===a.readyState&&(u((()=>[a.result])),i((()=>[e])))},a.readAsDataURL(e)}))}}),(0,o.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Choose Images"})]}),d.length>0&&(0,o.jsx)("span",{className:"mr-2",onClick:()=>{i([]),u([]),n(!0)},style:{cursor:"pointer"},children:(0,o.jsx)("i",{className:"fa fa-trash"})}),d.map((e=>(0,o.jsx)("img",{className:"mt-3 mr-2",src:e,alt:"Image Preview",width:"55",height:"52"},e)))]}),(0,o.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",children:"UPDATE"})]})})})})}}}]);