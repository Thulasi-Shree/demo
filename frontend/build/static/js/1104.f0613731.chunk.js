"use strict";(self.webpackChunkrestaurant=self.webpackChunkrestaurant||[]).push([[1104],{1104:(e,s,l)=>{l.r(s),l.d(s,{default:()=>d});var a=l(7313),r=l(8467),i=l(2135),t=l(6573),c=l(195),o=l(6417);const d=()=>{const[e,s]=(0,a.useState)(null),[l,d]=(0,a.useState)(""),{id:n}=(0,r.UO)(),m=async()=>{try{const e=(await t.Z.get("/api/order/".concat(n))).data.order;e&&Array.isArray(e.items)?(s(e),d(e.orderStatus)):console.error("Invalid order details response:",e)}catch(e){console.error("Error fetching order details:",e)}};return(0,a.useEffect)((()=>{m()}),[n]),(0,o.jsx)("div",{className:" bg-white py-1 text-black",children:(0,o.jsx)("div",{className:"container",children:(0,o.jsx)("div",{className:"row   mx-auto mt-4 mb-4",children:(0,o.jsx)("div",{className:"col",children:(0,o.jsxs)(c.Z,{className:"text-black Cardimg123 p-3 ",children:[(0,o.jsx)("h4",{className:"p-3 my-4 text-black",children:(0,o.jsx)("b",{children:"Order Info"})}),(0,o.jsxs)("div",{className:"row d-flex justify-content-around text-black",children:[(0,o.jsxs)("div",{className:"col-12 col-lg-4 order-details",children:[(0,o.jsx)("div",{style:{display:"flex",marginBottom:"1rem"},children:(0,o.jsxs)("p",{className:"mx-2 text-black",children:[(0,o.jsx)("b",{style:{color:"black"},className:"text-black",children:"Order Id:"}),null===e||void 0===e?void 0:e.orderId]})}),(0,o.jsxs)("p",{style:{display:"flex",color:"black",marginBottom:"1rem"},children:[(0,o.jsx)("b",{style:{color:"black"},className:"mx-2",children:"Name:"}),"".concat(null===e||void 0===e?void 0:e.shipping.name," ").concat((null===e||void 0===e?void 0:e.shipping.lastName)||"")]}),(0,o.jsxs)("p",{style:{display:"flex",color:"black",marginBottom:"1rem"},children:[(0,o.jsx)("b",{style:{color:"black"},className:"mx-2",children:"Phone:"})," ",(null===e||void 0===e?void 0:e.shipping.phone)||"not found"]}),(0,o.jsxs)("p",{style:{display:"flex",color:"black",marginBottom:"1rem"},children:[(0,o.jsx)("b",{style:{color:"black"},className:"mx-2",children:"Email:"})," ",(null===e||void 0===e?void 0:e.shipping.email)||"not found"]}),(0,o.jsxs)("p",{style:{display:"flex",color:"black",marginBottom:"1rem",marginLeft:"7px"},children:[(0,o.jsx)("b",{style:{color:"black"},className:"",children:"Billing Address:"})," ",null===e||void 0===e?void 0:e.shipping.address.line1,","," ",null===e||void 0===e?void 0:e.shipping.address.city,","," ",null===e||void 0===e?void 0:e.shipping.address.state,","," ",null===e||void 0===e?void 0:e.shipping.address.country]}),(null===e||void 0===e?void 0:e.delivery)&&(0,o.jsxs)("p",{style:{color:"black",display:"flex",marginBottom:"1rem",marginLeft:"7px"},children:[(0,o.jsx)("b",{style:{color:"black"},className:"",children:"Delivery Address:"})," ",e.delivery.line1||"",","," ",e.delivery.city||"",","," ",e.delivery.state||"",","," ",e.delivery.country||"",",",e.delivery.postalCode||""]}),(0,o.jsxs)("p",{style:{display:"flex",color:"black",marginBottom:"1rem"},children:[(0,o.jsx)("b",{className:"mx-2",children:"Restaurant:"})," ",(null===e||void 0===e?void 0:e.restaurantBranch)||"not found"]}),(0,o.jsxs)("p",{style:{display:"flex",color:"black",marginBottom:"1rem"},children:[(0,o.jsx)("b",{className:"mx-2",children:"Selected time:"})," ",(null===e||void 0===e?void 0:e.selectedTimeSlot)||"not found"]}),(0,o.jsxs)("p",{style:{display:"flex",color:"black",marginBottom:"1rem"},children:[(0,o.jsx)("b",{className:"mx-2",children:"Selected Date:"})," ",(null===e||void 0===e?void 0:e.orderDate)||"not found"]}),(0,o.jsxs)("p",{style:{display:"flex",color:"black",marginBottom:"1rem"},children:[(0,o.jsx)("b",{className:"mx-2",children:"Order Type:"})," ",(null===e||void 0===e?void 0:e.orderType)||"not found"]}),(0,o.jsxs)("p",{style:{display:"flex",color:"black",marginBottom:"1rem"},children:[(0,o.jsx)("b",{className:"mx-2",children:"Total Amount:"})," $",null===e||void 0===e?void 0:e.totalPrice]}),(0,o.jsxs)("p",{style:{display:"flex",color:"black",marginBottom:"1rem"},children:[(0,o.jsx)("b",{className:"mx-2",children:"Payment:"})," ",null===e||void 0===e?void 0:e.paymentStatus]}),(0,o.jsxs)("p",{style:{color:"black"},children:[(0,o.jsx)("b",{className:"mx-2",children:"Payment Id: "})," ",null===e||void 0===e?void 0:e.paymentInfo]}),(0,o.jsx)("div",{}),(0,o.jsxs)("p",{style:{display:"flex",color:"black",marginBottom:"1rem"},children:[(0,o.jsx)("b",{className:"mx-2",children:"Paid at:"})," ",null===e||void 0===e?void 0:e.paidAt]}),(0,o.jsx)("div",{})]}),(0,o.jsxs)("div",{className:"col-12 col-lg-8 mt-2",children:[(0,o.jsx)("h4",{className:"ms-5 px-5",style:{color:"black"},children:"Order Items:"}),(null===e||void 0===e?void 0:e.items.length)>0?null===e||void 0===e?void 0:e.items.map((e=>(0,o.jsx)(c.Z,{className:"cart-item my-3 container col-8",children:(0,o.jsxs)("div",{className:"row my-2",children:[(0,o.jsx)("div",{className:"col-2 col-lg-1",children:(0,o.jsx)("img",{src:e.image,alt:e.name,height:"45",width:"65"})}),(0,o.jsx)("div",{className:"col-xs-12 col-lg-6 ps-5 ",children:(0,o.jsx)(i.rU,{to:"/menuDetails/".concat(e._id),style:{textDecoration:"none",color:"black",fontSize:"18px",fontWeight:"550"},children:e.name})}),(0,o.jsx)("div",{className:"col-5 col-lg-2 mt-4 mt-lg-0",children:(0,o.jsxs)("p",{style:{color:"black"},children:["$",e.price]})}),(0,o.jsx)("div",{className:"col-7 col-lg-3 mt-4 mt-lg-0",children:(0,o.jsxs)("p",{style:{color:"black"},children:[" ","Qty-",e.itemQuantity]})})]})},e._id))):(0,o.jsx)("p",{children:"Items failed to display"}),(0,o.jsxs)("div",{className:"container col-12 col-lg-6 mx-auto",children:[(0,o.jsxs)("p",{style:{display:"flex",marginBottom:"1rem"},children:[(0,o.jsx)("b",{className:"mx-2 text-black",children:"Order Instruction:"})," ",(null===e||void 0===e?void 0:e.orderInstruction)||"-"]}),(0,o.jsx)("h4",{className:"my-4 text-black",children:"Status"}),(0,o.jsx)("p",{className:"my-4 text-black",children:(0,o.jsxs)("b",{children:["Order Status:"," ",(0,o.jsx)("span",{style:{color:"green"},children:null===e||void 0===e?void 0:e.orderStatus})]})}),(0,o.jsx)("div",{className:"form-group",children:(0,o.jsxs)("select",{className:"form-control",name:"status",value:l,onChange:e=>d(e.target.value),children:[(0,o.jsx)("option",{value:"",children:"Select Order Status"}),(0,o.jsx)("option",{value:"Order Placed",children:"Order Placed"}),(0,o.jsx)("option",{value:"Preparing",children:"Preparing"}),(0,o.jsx)("option",{value:"Out For Delivery",children:"Out for Delivery"}),(0,o.jsx)("option",{value:"Ready for Pickup",children:"Ready for Pickup"}),(0,o.jsx)("option",{value:"On the Way",children:"On the Way"}),(0,o.jsx)("option",{value:"Delivered",children:"Delivered"})]})}),(0,o.jsx)("button",{type:"submit",onClick:async()=>{try{if(e&&Array.isArray(e.items)){200===(await t.Z.put("/api/admin/order/".concat(e._id),{orderStatus:l})).status?m():console.error("Failed to update order status")}else console.error("Invalid order details:",e)}catch(s){console.error("Error updating order status:",s)}},className:"btn my-5 px-4 btn rounded w-100",children:"Update Status"})]})]})]})]})})})})})}},195:(e,s,l)=>{l.d(s,{Z:()=>E});var a=l(6123),r=l.n(a),i=l(7313),t=l(8524),c=l(6417);const o=i.forwardRef(((e,s)=>{let{className:l,bsPrefix:a,as:i="div",...o}=e;return a=(0,t.vE)(a,"card-body"),(0,c.jsx)(i,{ref:s,className:r()(l,a),...o})}));o.displayName="CardBody";const d=o,n=i.forwardRef(((e,s)=>{let{className:l,bsPrefix:a,as:i="div",...o}=e;return a=(0,t.vE)(a,"card-footer"),(0,c.jsx)(i,{ref:s,className:r()(l,a),...o})}));n.displayName="CardFooter";const m=n;var x=l(5614);const v=i.forwardRef(((e,s)=>{let{bsPrefix:l,className:a,as:o="div",...d}=e;const n=(0,t.vE)(l,"card-header"),m=(0,i.useMemo)((()=>({cardHeaderBsPrefix:n})),[n]);return(0,c.jsx)(x.Z.Provider,{value:m,children:(0,c.jsx)(o,{ref:s,...d,className:r()(a,n)})})}));v.displayName="CardHeader";const h=v,p=i.forwardRef(((e,s)=>{let{bsPrefix:l,className:a,variant:i,as:o="img",...d}=e;const n=(0,t.vE)(l,"card-img");return(0,c.jsx)(o,{ref:s,className:r()(i?"".concat(n,"-").concat(i):n,a),...d})}));p.displayName="CardImg";const u=p,y=i.forwardRef(((e,s)=>{let{className:l,bsPrefix:a,as:i="div",...o}=e;return a=(0,t.vE)(a,"card-img-overlay"),(0,c.jsx)(i,{ref:s,className:r()(l,a),...o})}));y.displayName="CardImgOverlay";const j=y,f=i.forwardRef(((e,s)=>{let{className:l,bsPrefix:a,as:i="a",...o}=e;return a=(0,t.vE)(a,"card-link"),(0,c.jsx)(i,{ref:s,className:r()(l,a),...o})}));f.displayName="CardLink";const b=f;var N=l(6205);const g=(0,N.Z)("h6"),k=i.forwardRef(((e,s)=>{let{className:l,bsPrefix:a,as:i=g,...o}=e;return a=(0,t.vE)(a,"card-subtitle"),(0,c.jsx)(i,{ref:s,className:r()(l,a),...o})}));k.displayName="CardSubtitle";const P=k,w=i.forwardRef(((e,s)=>{let{className:l,bsPrefix:a,as:i="p",...o}=e;return a=(0,t.vE)(a,"card-text"),(0,c.jsx)(i,{ref:s,className:r()(l,a),...o})}));w.displayName="CardText";const B=w,O=(0,N.Z)("h5"),S=i.forwardRef(((e,s)=>{let{className:l,bsPrefix:a,as:i=O,...o}=e;return a=(0,t.vE)(a,"card-title"),(0,c.jsx)(i,{ref:s,className:r()(l,a),...o})}));S.displayName="CardTitle";const C=S,I=i.forwardRef(((e,s)=>{let{bsPrefix:l,className:a,bg:i,text:o,border:n,body:m=!1,children:x,as:v="div",...h}=e;const p=(0,t.vE)(l,"card");return(0,c.jsx)(v,{ref:s,...h,className:r()(a,p,i&&"bg-".concat(i),o&&"text-".concat(o),n&&"border-".concat(n)),children:m?(0,c.jsx)(d,{children:x}):x})}));I.displayName="Card";const E=Object.assign(I,{Img:u,Title:C,Subtitle:P,Body:d,Link:b,Text:B,Header:h,Footer:m,ImgOverlay:j})}}]);