"use strict";(self.webpackChunkrestaurant=self.webpackChunkrestaurant||[]).push([[9204],{9204:(e,s,a)=>{a.r(s),a.d(s,{default:()=>x});var t=a(7313),r=a(195),c=a(1965),l=a(3298),i=a(259),n=a(1309),d=a(8467),o=a(4423),m=a(6417);const x=()=>{const e=JSON.parse(localStorage.getItem("cartItems"))||[],s=localStorage.getItem("Address").replace(/"([^"]+(?="))"/g,"$1"),a=localStorage.getItem("selectedDate").replace(/"([^"]+(?="))"/g,"$1"),x=localStorage.getItem("branch").replace(/"([^"]+(?="))"/g,"$1"),[f,h]=(0,t.useState)(e),p=JSON.parse(localStorage.getItem("cartItems")),u=JSON.parse(localStorage.getItem("selectedTimeSlot")),[N,j]=(0,t.useState)(!1),[y,g]=(0,t.useState)(null),[v,b]=(0,t.useState)(e.reduce(((e,s)=>(e[s._id]=Number(s.quantity),e)),{})),S=(0,d.s0)(),C=()=>{j(!1)};return(0,t.useEffect)((()=>{e.length>0&&(e=>{try{const s=(JSON.parse(localStorage.getItem("cartItems"))||[]).filter((s=>s._id!==e));b((s=>{const{[e]:a,...t}=s;return t})),h(s),0===s.length?localStorage.removeItem("cartItems"):localStorage.setItem("cartItems",JSON.stringify(s))}catch(s){setAlert({message:"Error deleting item",type:"error"})}})()}),[e.length]),p&&0!==p.length?(0,m.jsx)("div",{className:"bg-white",children:(0,m.jsx)("div",{className:"col-11 mx-auto py-5 ",children:(0,m.jsxs)("div",{className:"container-fluid CardDetail112 mx-auto  col-12 col-lg-5 pt-5",children:[(0,m.jsxs)(r.Z,{id:"CardText",className:"px-4 py-2 mb-3 col-12 mx-auto",children:[alert.message&&(0,m.jsx)(o.Z,{message:alert.message,type:alert.type,onClose:()=>{setAlert({message:"",type:""})}}),(0,m.jsxs)(r.Z.Body,{children:[(0,m.jsx)("div",{className:"delivery-info",children:(0,m.jsxs)("p",{style:{fontSize:"16px"},id:"CardText",children:[(0,m.jsx)("b",{children:"Restaurant:"})," ",x," ",s]})}),(0,m.jsx)("div",{className:"delivery-info",children:(0,m.jsxs)("p",{style:{fontSize:"16px"},id:"CardText",children:[(0,m.jsx)("b",{children:"Date:"})," ",a]})}),(0,m.jsx)("div",{className:"delivery-info",children:(0,m.jsxs)("p",{style:{fontSize:"16px"},id:"CardText",children:[(0,m.jsx)("b",{children:"Time:"})," ",u]})})]})]}),(0,m.jsxs)("h5",{id:"CardText",children:["Cart Order Items",(0,m.jsx)("br",{}),(0,m.jsx)("hr",{})]}),(0,m.jsxs)(r.Z,{id:"CardText",className:"row d-flex px-4 py-2 col-11 mx-auto justify-content-between ",children:[p.map((e=>(0,m.jsx)(t.Fragment,{children:(0,m.jsx)("div",{className:"row cart-item",children:(0,m.jsx)("div",{className:"container-fluid",children:(0,m.jsxs)("div",{className:"row cart-item-details",children:[(0,m.jsx)("span",{className:"pointer col-5",children:(0,m.jsx)("p",{id:"CardText",children:e.name})}),(0,m.jsxs)("div",{className:"col-7 d-flex mb-2",children:[(0,m.jsx)("p",{className:"col-6",id:"card_item_total",children:(0,m.jsx)("p",{children:(0,m.jsx)("span",{className:"text-black",children:(0,m.jsxs)("p",{style:{fontSize:"13px"},id:"CardText",children:[" ","$",e.price*e.quantity]})})})}),(0,m.jsxs)("div",{className:"stockCounter col-6 ",style:{letterSpacing:"-2px"},children:[(0,m.jsx)("span",{className:"icon-container",onClick:()=>(e=>{if(!1===e.isAvailable)return;const s={...v,[e._id]:Math.max((v[e._id]||0)-1,0)};b(s);const a=p.map((s=>s._id===e._id?{...s,quantity:Math.max((s.quantity||0)-1,0)}:s)).filter((e=>e.quantity>0));h(a),localStorage.setItem("cartItems",JSON.stringify(a)),localStorage.setItem("localQuantities",JSON.stringify(s))})(e),style:{fontSize:"10px"},children:(0,m.jsx)(i.G,{icon:n.Kl4,title:"Minus title",className:"icon-border"})}),(0,m.jsxs)("span",{className:" quantity ",style:{fontSize:"16px"},children:[e.quantity," "]}),(0,m.jsx)("span",{className:"icon-container",onClick:()=>(e=>{if(!1===e.isAvailable)return;const s={...v,[e._id]:(v[e._id]||0)+1};b(s);const a=p.map((s=>s._id===e._id?{...s,quantity:(s.quantity||0)+1}:s));h(a),localStorage.setItem("cartItems",JSON.stringify(a)),localStorage.setItem("localQuantities",JSON.stringify(s))})(e),children:(0,m.jsx)(i.G,{icon:n.r8p,title:"Add1 title",style:{fontSize:"10px"},className:"icon-border"})})]})]})]})})})},e._id))),(0,m.jsx)("div",{className:"col-12",children:(0,m.jsx)("div",{id:"order_summary",children:(0,m.jsxs)("p",{style:{fontSize:"16px"},id:"CardText",children:["Items total:"," ",(0,m.jsxs)("span",{style:{fontSize:"16px"},className:"order-summary-values",id:"CardText",children:["$",(p.reduce(((e,s)=>e+s.price*s.quantity),0)||0).toFixed(2)]})]})})})]}),(0,m.jsx)("div",{className:" mb-3 col-12 d-flex justify-content-center",children:(0,m.jsx)("button",{id:"",onClick:()=>{const e=p.reduce(((e,s)=>e+(s.quantity||1)*Number(s.price)),0);e>0?(localStorage.setItem("cartItemsTotal",JSON.stringify(e)),S("/shippingInfo")):setAlert({message:"Cannot proceed to checkout with an empty cart.",type:"error"})},className:"btn  my-4 ",children:"Check out"})}),(0,m.jsxs)(c.Z,{show:N,onHide:C,children:[(0,m.jsx)(c.Z.Header,{closeButton:!0,children:(0,m.jsx)(c.Z.Title,{children:"Menu Details"})}),(0,m.jsx)(c.Z.Body,{children:y&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h3",{children:y.name}),(0,m.jsxs)("p",{children:["Price: $",y.price.toFixed(2)]}),(0,m.jsxs)("p",{children:["Description: ",y.description]})]})}),(0,m.jsx)(c.Z.Footer,{children:(0,m.jsx)(l.Z,{variant:"secondary",onClick:C,children:"Close"})})]})]})})}):(0,m.jsx)("div",{className:"d-flex justify-content-center",children:(0,m.jsx)("div",{className:" vh-100 bg-white col-12 p-5  mx-auto text-center align-center",children:(0,m.jsx)("h2",{className:"mx-auto  pt-5 text-black",children:"Your cart is empty"})})})}},3298:(e,s,a)=>{a.d(s,{Z:()=>o});var t=a(6123),r=a.n(t),c=a(7313),l=a(6184),i=a(8524),n=a(6417);const d=c.forwardRef(((e,s)=>{let{as:a,bsPrefix:t,variant:c="primary",size:d,active:o=!1,disabled:m=!1,className:x,...f}=e;const h=(0,i.vE)(t,"btn"),[p,{tagName:u}]=(0,l.FT)({tagName:a,disabled:m,...f}),N=u;return(0,n.jsx)(N,{...p,...f,ref:s,disabled:m,className:r()(x,h,o&&"active",c&&"".concat(h,"-").concat(c),d&&"".concat(h,"-").concat(d),f.href&&m&&"disabled")})}));d.displayName="Button";const o=d},195:(e,s,a)=>{a.d(s,{Z:()=>P});var t=a(6123),r=a.n(t),c=a(7313),l=a(8524),i=a(6417);const n=c.forwardRef(((e,s)=>{let{className:a,bsPrefix:t,as:c="div",...n}=e;return t=(0,l.vE)(t,"card-body"),(0,i.jsx)(c,{ref:s,className:r()(a,t),...n})}));n.displayName="CardBody";const d=n,o=c.forwardRef(((e,s)=>{let{className:a,bsPrefix:t,as:c="div",...n}=e;return t=(0,l.vE)(t,"card-footer"),(0,i.jsx)(c,{ref:s,className:r()(a,t),...n})}));o.displayName="CardFooter";const m=o;var x=a(5614);const f=c.forwardRef(((e,s)=>{let{bsPrefix:a,className:t,as:n="div",...d}=e;const o=(0,l.vE)(a,"card-header"),m=(0,c.useMemo)((()=>({cardHeaderBsPrefix:o})),[o]);return(0,i.jsx)(x.Z.Provider,{value:m,children:(0,i.jsx)(n,{ref:s,...d,className:r()(t,o)})})}));f.displayName="CardHeader";const h=f,p=c.forwardRef(((e,s)=>{let{bsPrefix:a,className:t,variant:c,as:n="img",...d}=e;const o=(0,l.vE)(a,"card-img");return(0,i.jsx)(n,{ref:s,className:r()(c?"".concat(o,"-").concat(c):o,t),...d})}));p.displayName="CardImg";const u=p,N=c.forwardRef(((e,s)=>{let{className:a,bsPrefix:t,as:c="div",...n}=e;return t=(0,l.vE)(t,"card-img-overlay"),(0,i.jsx)(c,{ref:s,className:r()(a,t),...n})}));N.displayName="CardImgOverlay";const j=N,y=c.forwardRef(((e,s)=>{let{className:a,bsPrefix:t,as:c="a",...n}=e;return t=(0,l.vE)(t,"card-link"),(0,i.jsx)(c,{ref:s,className:r()(a,t),...n})}));y.displayName="CardLink";const g=y;var v=a(6205);const b=(0,v.Z)("h6"),S=c.forwardRef(((e,s)=>{let{className:a,bsPrefix:t,as:c=b,...n}=e;return t=(0,l.vE)(t,"card-subtitle"),(0,i.jsx)(c,{ref:s,className:r()(a,t),...n})}));S.displayName="CardSubtitle";const C=S,I=c.forwardRef(((e,s)=>{let{className:a,bsPrefix:t,as:c="p",...n}=e;return t=(0,l.vE)(t,"card-text"),(0,i.jsx)(c,{ref:s,className:r()(a,t),...n})}));I.displayName="CardText";const w=I,T=(0,v.Z)("h5"),k=c.forwardRef(((e,s)=>{let{className:a,bsPrefix:t,as:c=T,...n}=e;return t=(0,l.vE)(t,"card-title"),(0,i.jsx)(c,{ref:s,className:r()(a,t),...n})}));k.displayName="CardTitle";const Z=k,O=c.forwardRef(((e,s)=>{let{bsPrefix:a,className:t,bg:c,text:n,border:o,body:m=!1,children:x,as:f="div",...h}=e;const p=(0,l.vE)(a,"card");return(0,i.jsx)(f,{ref:s,...h,className:r()(t,p,c&&"bg-".concat(c),n&&"text-".concat(n),o&&"border-".concat(o)),children:m?(0,i.jsx)(d,{children:x}):x})}));O.displayName="Card";const P=Object.assign(O,{Img:u,Title:Z,Subtitle:C,Body:d,Link:g,Text:w,Header:h,Footer:m,ImgOverlay:j})}}]);