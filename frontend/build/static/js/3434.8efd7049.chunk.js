"use strict";(self.webpackChunkrestaurant=self.webpackChunkrestaurant||[]).push([[3434],{4423:(e,a,s)=>{s.d(a,{Z:()=>t});s(7313);var r=s(6417);const t=e=>{let{message:a,type:s,onClose:t}=e;return(0,r.jsx)("div",{className:"modal",style:{display:"block"},children:(0,r.jsxs)("div",{className:"modal-content",children:[(0,r.jsx)("span",{className:"close",onClick:t,children:"\xd7"}),(0,r.jsx)("p",{className:s,children:a})]})})}},9773:(e,a,s)=>{s.d(a,{Z:()=>l});var r=s(5964),t=s(6417);function l(e){let{title:a}=e;return(0,t.jsx)(r.ql,{children:(0,t.jsx)("title",{children:"".concat(a," - Grand India")})})}},3434:(e,a,s)=>{s.r(a),s.d(a,{default:()=>i});var r=s(7313),t=s(6573),l=s(9773),c=s(2135),n=s(195),d=s(4423),o=s(6417);function i(){const e=JSON.parse(localStorage.getItem("user")),[a,s]=(0,r.useState)(""),[i,m]=(0,r.useState)(""),[u,f]=(0,r.useState)(""),[p,x]=(0,r.useState)(""),[h,N]=(0,r.useState)(""),[y,g]=(0,r.useState)({message:"",type:""}),[v,b]=(0,r.useState)(""),j=e._id,C=()=>{g({message:"",type:""})};return(0,r.useEffect)((()=>{(async()=>{const e=await t.Z.get("/api/myprofile/".concat(j)),{user:a}=e.data.data;s(a.name),m(a.lastName),x(a.email),f(a.phone),b(a.avatar)})()}),[]),(0,o.jsxs)("div",{className:" bg-white py-5",children:[(0,o.jsx)(l.Z,{title:"update"}),(0,o.jsxs)("div",{className:"col-11 custom-table col-lg-4 mx-auto Cardimg123",children:[y.message&&(0,o.jsx)(d.Z,{message:y.message,type:y.type,onClose:C}),(0,o.jsxs)(n.Z,{className:"Cardimg123",children:[y.message&&(0,o.jsx)(d.Z,{message:y.message,type:y.type,onClose:C}),(0,o.jsxs)("form",{id:"CardText",onSubmit:async e=>{e.preventDefault();try{const e=new FormData;e.append("name",a),e.append("email",p),e.append("lastName",i),e.append("phone",u),e.append("avatar",h);(await t.Z.put("/api/update1/".concat(j),e,{headers:{"Content-type":"multipart/form-data"}})).data.success&&g({message:"Profile updated successfully",type:"success"})}catch(s){const e=s.response?s.response.data.error:"Internal Server Error";g({message:e,type:"error"})}},encType:"multipart/form-data",children:[(0,o.jsx)("div",{className:"mt-4 px-3",children:(0,o.jsx)("h4",{className:"mt-4 my-3",children:"Update Profile"})}),(0,o.jsxs)("div",{className:"form-group mx-5 my-2",children:[(0,o.jsx)("label",{htmlFor:"name_field",style:{fontWeight:"550"},children:"Name"}),(0,o.jsx)("input",{type:"name",style:{backgroundColor:"white",color:"black"},id:"name_field",className:"form-control",required:!0,name:"name",value:a,onChange:e=>s(e.target.value)})]}),(0,o.jsxs)("div",{className:"form-group mx-5 my-2",children:[(0,o.jsx)("label",{htmlFor:"lastName_field",style:{fontWeight:"550"},children:"Last Name"}),(0,o.jsx)("input",{style:{backgroundColor:"white",color:"black"},type:"name",id:"lastName_field",className:"form-control",name:"lastName",required:!0,value:i,onChange:e=>m(e.target.value)})]}),(0,o.jsxs)("div",{className:"form-group mx-5 my-2",children:[(0,o.jsx)("label",{htmlFor:"email_field",style:{fontWeight:"550"},children:"Email"}),(0,o.jsx)("input",{style:{backgroundColor:"white",color:"black"},type:"email",id:"email_field",className:"form-control",required:!0,name:"email",value:p,disabled:!0,onChange:e=>x(e.target.value)})]}),(0,o.jsxs)("div",{className:"form-group mx-5 my-2",children:[(0,o.jsx)("label",{htmlFor:"phone_field",style:{fontWeight:"550"},children:"Phone"}),(0,o.jsx)("input",{style:{backgroundColor:"white",color:"black"},type:"tel",id:"phone_field",className:"form-control",required:!0,disabled:!0,name:"phone",value:u,onChange:e=>f(e.target.value)})]}),(0,o.jsxs)("div",{className:"mb-4 my-2 mx-5",children:[(0,o.jsx)("label",{htmlFor:"customFile",style:{fontWeight:"550"},children:"Avatar"}),(0,o.jsxs)("div",{className:"custom-file",children:[(0,o.jsx)("input",{style:{backgroundColor:"white",color:"black"},type:"file",name:"avatar",className:"form-control",alt:"Avatar Preview",id:"customFile",onChange:e=>{const a=new FileReader;a.onload=()=>{2===a.readyState&&(b(a.result),N(e.target.files[0]))},a.readAsDataURL(e.target.files[0])}}),(0,o.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",id:"CardText",children:"Chosen Avatar"})]}),(0,o.jsx)("figure",{className:"image-preview mt-3",children:(0,o.jsx)("img",{className:"mr-2 mb-2",src:v,width:"55",height:"52"})})]}),(0,o.jsxs)("div",{className:"px-3",children:[(0,o.jsx)("button",{type:"submit",className:"btn my-3 px-4 btn rounded w-100 mb-3",children:"Update"}),(0,o.jsx)(c.rU,{to:"/myProfile/:id",children:(0,o.jsx)("button",{type:"submit",className:"btn my-3 px-4 btn rounded w-100 ",children:"Back"})})]})]})]})]})]})}},195:(e,a,s)=>{s.d(a,{Z:()=>Z});var r=s(6123),t=s.n(r),l=s(7313),c=s(8524),n=s(6417);const d=l.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:l="div",...d}=e;return r=(0,c.vE)(r,"card-body"),(0,n.jsx)(l,{ref:a,className:t()(s,r),...d})}));d.displayName="CardBody";const o=d,i=l.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:l="div",...d}=e;return r=(0,c.vE)(r,"card-footer"),(0,n.jsx)(l,{ref:a,className:t()(s,r),...d})}));i.displayName="CardFooter";const m=i;var u=s(5614);const f=l.forwardRef(((e,a)=>{let{bsPrefix:s,className:r,as:d="div",...o}=e;const i=(0,c.vE)(s,"card-header"),m=(0,l.useMemo)((()=>({cardHeaderBsPrefix:i})),[i]);return(0,n.jsx)(u.Z.Provider,{value:m,children:(0,n.jsx)(d,{ref:a,...o,className:t()(r,i)})})}));f.displayName="CardHeader";const p=f,x=l.forwardRef(((e,a)=>{let{bsPrefix:s,className:r,variant:l,as:d="img",...o}=e;const i=(0,c.vE)(s,"card-img");return(0,n.jsx)(d,{ref:a,className:t()(l?"".concat(i,"-").concat(l):i,r),...o})}));x.displayName="CardImg";const h=x,N=l.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:l="div",...d}=e;return r=(0,c.vE)(r,"card-img-overlay"),(0,n.jsx)(l,{ref:a,className:t()(s,r),...d})}));N.displayName="CardImgOverlay";const y=N,g=l.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:l="a",...d}=e;return r=(0,c.vE)(r,"card-link"),(0,n.jsx)(l,{ref:a,className:t()(s,r),...d})}));g.displayName="CardLink";const v=g;var b=s(6205);const j=(0,b.Z)("h6"),C=l.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:l=j,...d}=e;return r=(0,c.vE)(r,"card-subtitle"),(0,n.jsx)(l,{ref:a,className:t()(s,r),...d})}));C.displayName="CardSubtitle";const w=C,k=l.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:l="p",...d}=e;return r=(0,c.vE)(r,"card-text"),(0,n.jsx)(l,{ref:a,className:t()(s,r),...d})}));k.displayName="CardText";const P=k,S=(0,b.Z)("h5"),E=l.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:l=S,...d}=e;return r=(0,c.vE)(r,"card-title"),(0,n.jsx)(l,{ref:a,className:t()(s,r),...d})}));E.displayName="CardTitle";const F=E,R=l.forwardRef(((e,a)=>{let{bsPrefix:s,className:r,bg:l,text:d,border:i,body:m=!1,children:u,as:f="div",...p}=e;const x=(0,c.vE)(s,"card");return(0,n.jsx)(f,{ref:a,...p,className:t()(r,x,l&&"bg-".concat(l),d&&"text-".concat(d),i&&"border-".concat(i)),children:m?(0,n.jsx)(o,{children:u}):u})}));R.displayName="Card";const Z=Object.assign(R,{Img:h,Title:F,Subtitle:w,Body:o,Link:v,Text:P,Header:p,Footer:m,ImgOverlay:y})}}]);