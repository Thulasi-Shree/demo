(self.webpackChunkrestaurant=self.webpackChunkrestaurant||[]).push([[1212],{2766:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var s=a(7313),r=a(8467),l=a(6573),o=a(195),n=a(3298),i=a(6417);const d=e=>{let{name:t,lastName:a,handleFirstNameChange:r,handleLastNameChange:l,handleGetOtp:d,handleOtpChange:c,emailOrMobile:h,handleEmailOrMobileChange:m,enteredOtp:u,otpVerified:g,isOtpSent:p,handleConfirmOtp:y}=e;const[x,b]=(0,s.useState)("");return(0,i.jsx)("div",{children:(0,i.jsxs)(o.Z,{className:"my-3 p-3",style:{backgroundColor:"transparent"},children:[(0,i.jsx)("h4",{id:"CardText",children:"Personal Details"}),(0,i.jsxs)("div",{className:"mb-3 address-container ",children:[(0,i.jsxs)("label",{htmlFor:"userName",className:"form-label",id:"CardText",children:["First Name"," ",(0,i.jsx)("span",{className:"text-danger",children:(0,i.jsx)("b",{children:"*"})})]}),(0,i.jsx)("input",{type:"text",style:{backgroundColor:"white",color:"black"},className:"form-control ",id:"userName",value:t,onChange:r,placeholder:"First Name is Required",required:!0}),x.name&&(0,i.jsx)("div",{className:"error",children:x.name})]}),(0,i.jsxs)("div",{className:"mb-3 address-container",children:[(0,i.jsxs)("label",{htmlFor:"lastName",className:"form-label",id:"CardText",children:["Last Name"," ",(0,i.jsxs)("span",{className:"text-danger",children:[" ",(0,i.jsx)("b",{children:"*"})]})]}),(0,i.jsx)("input",{style:{backgroundColor:"white",color:"black"},type:"text",className:"form-control ",id:"lastName",value:a,placeholder:"Last Name is Required",onChange:l,required:!0})]}),(0,i.jsxs)("div",{className:"mb-3 address-container",style:{display:g?"none":"block"},children:[(0,i.jsxs)("label",{htmlFor:"emailOrMobile",className:"form-label",id:"CardText",children:["Email / Mobile Number"," ",(0,i.jsxs)("span",{className:"text-danger",children:[" ",(0,i.jsx)("b",{children:"*"})]})]}),(0,i.jsx)("input",{type:"text",style:{backgroundColor:"white",color:"black"},className:"form-control",id:"emailOrMobile",value:h,onChange:m,required:!0,placeholder:"Email id / Mobile number is required"})]}),(0,i.jsx)(n.Z,{type:"button",className:"my-global-button btn my-2",onClick:d,style:{display:g?"none":"block"},children:"Get OTP"}),p&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{style:{display:g?"none":"block"},children:[(0,i.jsxs)("label",{htmlFor:"otp",className:"form-label mt-4",id:"CardText",children:["Enter OTP"," ",(0,i.jsxs)("span",{className:"text-danger",children:[" ",(0,i.jsx)("b",{children:"*"})]})]}),(0,i.jsx)("input",{style:{backgroundColor:"white",color:"black"},type:"tel",className:"form-control ",id:"otp",value:u,onChange:c,required:!0,placeholder:"Field is required"})]}),(0,i.jsx)(n.Z,{type:"button",className:"my-3 my-global-button",required:!0,onClick:y,style:{display:g?"none":"block"},children:"Confirm OTP"})]})]})})},c=e=>{let{orderType:t,handleOrderTypeChange:a,handleText1:s,textBox1:r}=e;return(0,i.jsxs)(o.Z,{className:"my-3 p-3 bg-transparent",children:[(0,i.jsx)("h4",{id:"CardText",children:"Order Details"}),(0,i.jsxs)("div",{className:"mb-3 address-container",children:[(0,i.jsxs)("label",{htmlFor:"orderType",className:"form-label",id:"CardText",children:["Order Type"," ",(0,i.jsxs)("span",{className:"text-danger",children:[" ",(0,i.jsx)("b",{children:"*"})]})]}),(0,i.jsxs)("select",{className:"form-select form-select-sm col-xs-2 ",id:"orderType",value:t,onChange:a,style:{backgroundColor:"white",color:"black"},required:!0,children:[(0,i.jsx)("option",{value:"",children:"Select"}),(0,i.jsx)("option",{value:"Pickup",className:"text-black",children:"Pickup"}),(0,i.jsx)("option",{value:"Delivery",className:"text-black",children:"Delivery"})]})]}),(0,i.jsxs)("div",{className:"mb-3 address-container",children:[(0,i.jsx)("label",{htmlFor:"orderNotes",className:"form-label",id:"CardText",children:"Order Notes"}),(0,i.jsx)("textarea",{type:"text",style:{backgroundColor:"white",color:"black"},className:"form-control ",name:"orderNotes",value:r,onChange:s,placeholder:"Order Notes"})]})]})},h=e=>{let{streetAddress:t,postalCode:a,city:r,postal_code:l,state:n,country:d,handleStreetAddressChange:c,handleZipCodeChange:h,handleCityChange:m,handleStateChange:u}=e;return(0,s.useEffect)((()=>{const e={streetAddress:t,postalCode:a||l,city:r,state:n,country:d};localStorage.setItem("billingAddress",JSON.stringify(e))}),[t,a,r,n,d]),(0,i.jsxs)(o.Z,{className:"my-3 p-3 bg-transparent",children:[(0,i.jsx)("h4",{id:"CardText",children:"Billing Address"}),(0,i.jsxs)("div",{className:"mb-3 address-container",children:[(0,i.jsxs)("label",{htmlFor:"streetAddress",className:"form-label",id:"CardText",style:{color:"black",backgroundColor:"transparent"},children:["Street Address"," ",(0,i.jsxs)("span",{className:"text-danger",children:[" ",(0,i.jsx)("b",{children:"*"})]})]}),(0,i.jsx)("input",{style:{color:"black",backgroundColor:"white"},type:"text",className:"form-control ",id:"streetAddress",value:t,onChange:c,required:!0,placeholder:"Field is required"})]}),(0,i.jsxs)("div",{className:"mb-3 address-container",children:[(0,i.jsxs)("label",{id:"CardText",htmlFor:"zipCode",className:"form-label",children:["ZIP Code"," ",(0,i.jsxs)("span",{className:"text-danger",children:[" ",(0,i.jsx)("b",{children:"*"})]})]}),(0,i.jsx)("input",{style:{color:"black",backgroundColor:"white"},type:"text",className:"form-control ",id:"zipCode",value:a,onChange:h,required:!0,placeholder:"Field is required"})]}),(0,i.jsxs)("div",{className:"mb-3 address-container",children:[(0,i.jsxs)("label",{id:"CardText",htmlFor:"city",className:"form-label",children:["City"," ",(0,i.jsxs)("span",{className:"text-danger",children:[" ",(0,i.jsx)("b",{children:"*"})]})]}),(0,i.jsx)("input",{style:{color:"black",backgroundColor:"white"},type:"text",className:"form-control ",id:"city",value:r,onChange:m,required:!0,placeholder:"Field is required"})]}),(0,i.jsxs)("div",{className:"mb-3 address-container",children:[(0,i.jsxs)("label",{htmlFor:"state",id:"CardText",className:"form-label",children:["State"," ",(0,i.jsxs)("span",{className:"text-danger",children:[" ",(0,i.jsx)("b",{children:"*"})]})]}),(0,i.jsx)("input",{style:{color:"black",backgroundColor:"white"},type:"text",className:"form-control ",id:"state",value:n,onChange:u,required:!0,placeholder:"Field is required"})]}),(0,i.jsxs)("div",{className:"mb-3 address-container",children:[(0,i.jsxs)("label",{htmlFor:"state",id:"CardText",className:"form-label",children:["Country"," ",(0,i.jsxs)("span",{className:"text-danger",children:[" ",(0,i.jsx)("b",{children:"*"})]})]}),(0,i.jsx)("input",{style:{color:"black",backgroundColor:"white"},type:"text",className:"form-control ",id:"country",value:d,required:!0,disabled:!0,placeholder:"Field is required"})]})]})},m=e=>{let{streetAddress:t,postalCode:a,city:s,state:r,country:l,textBox2:n,billingPostalCode:d,useCurrentLocation:c,billingStreetAddress:m,setBillingPostalCode:u,handleSameAsDeliveryChange:g,setBillingStreetAddress:p,handleButtonClick:y,billingCity:x,setBillingCity:b,setBillingState:C,setBillingCountry:j,billingState:f,billingCountry:S,handleStreetAddressChange:N,handleZipCodeChange:v,handleCityChange:k,handleStateChange:O,sameAsDelivery:A,handleUseCurrentLocationChange:T,userLocation:w,distanceResult:I,handleText2:F}=e;return(0,i.jsxs)(o.Z,{className:"my-3 p-3",id:"",children:[(0,i.jsx)("h4",{id:"CardText",children:"Delivery Address"}),c?(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{id:"CardText",children:"Using current location"}),w?(0,i.jsxs)("div",{children:[(0,i.jsxs)("p",{id:"CardText",children:["Address: ",w.features[0].properties.address_line1,","," ",w.features[0].properties.postcode,","," ",w.features[0].properties.state_district,","," ",w.features[0].properties.state,","," ",w.features[0].properties.country]}),null!==I&&(0,i.jsx)(i.Fragment,{children:I<500?(0,i.jsx)("div",{children:(0,i.jsx)("p",{style:{color:"#008000",backgroundColor:"white"},children:"Order available for this location"})}):(0,i.jsx)("div",{children:(0,i.jsx)("p",{style:{color:"red",backgroundColor:"white"},children:"Order not available for this location"})})}),(0,i.jsxs)("div",{className:"address-options mt-2",children:[(0,i.jsxs)("label",{className:"radio-label",id:"CardText",children:[(0,i.jsx)("input",{style:{backgroundColor:"white",color:"black"},type:"radio",name:"sameAsDeliveryOption",checked:A,onChange:g}),(0,i.jsx)("span",{className:"radio-custom"}),"Use Delivery address"]}),(0,i.jsxs)("label",{className:"radio-label",id:"CardText",children:[(0,i.jsx)("input",{style:{backgroundColor:"white",color:"black"},type:"radio",name:"sameAsDeliveryOption",checked:!A,onChange:g}),(0,i.jsx)("span",{className:"radio-custom"}),"Enter different address"]})]}),(0,i.jsx)(h,{sameAsDelivery:A,streetAddress:m,postalCode:d,city:x,state:f,country:S,handleStreetAddressChange:e=>p(e.target.value),handleZipCodeChange:e=>u(e.target.value),handleCityChange:e=>b(e.target.value),handleStateChange:e=>C(e.target.value),handleCountryChange:e=>j(e.target.value)})]}):(0,i.jsx)("p",{children:"Loading location..."})]}):(0,i.jsxs)("div",{className:"address-container",children:[(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsxs)("label",{id:"CardText",htmlFor:"streetAddress",className:"form-label",children:["Street Address"," ",(0,i.jsxs)("span",{className:"text-danger",children:[" ",(0,i.jsx)("b",{children:"*"})]})]}),(0,i.jsx)("input",{style:{color:"black",backgroundColor:"white"},type:"text",className:"form-control ",id:"streetAddress",value:t,onChange:N,required:!0,placeholder:"Field is required"})]}),(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsxs)("label",{id:"CardText",htmlFor:"zipCode",className:"form-label",children:["ZIP Code"," ",(0,i.jsxs)("span",{className:"text-danger",children:[" ",(0,i.jsx)("b",{children:"*"})]})]}),(0,i.jsx)("input",{style:{color:"black",backgroundColor:"white"},type:"text",className:"form-control ",id:"zipCode",value:a,onChange:v,required:!0,placeholder:"Field is required"})]}),(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsxs)("label",{id:"CardText",htmlFor:"city",className:"form-label",children:["City"," ",(0,i.jsxs)("span",{className:"text-danger",children:[" ",(0,i.jsx)("b",{children:"*"})]})]}),(0,i.jsx)("input",{style:{color:"black",backgroundColor:"white"},type:"text",className:"form-control ",id:"city",value:s,onChange:k,required:!0,placeholder:"Field is required"})]}),(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsxs)("label",{htmlFor:"state",id:"CardText",className:"form-label",children:["State"," ",(0,i.jsxs)("span",{className:"text-danger",children:[" ",(0,i.jsx)("b",{children:"*"})]})]}),(0,i.jsx)("input",{style:{color:"black",backgroundColor:"white"},type:"text",className:"form-control ",id:"state",value:r,onChange:O,required:!0,placeholder:"Field is required"})]}),(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsxs)("label",{htmlFor:"country",id:"CardText",className:"form-label",children:["Country"," ",(0,i.jsxs)("span",{className:"text-danger",children:[" ",(0,i.jsx)("b",{children:"*"})]})]}),(0,i.jsx)("input",{style:{color:"black",backgroundColor:"white"},type:"text",className:"form-control ",id:"country",value:l,required:!0,disabled:!0,placeholder:"Field is required"})]}),null!==I&&(0,i.jsx)(i.Fragment,{children:I<500?(0,i.jsx)("div",{children:(0,i.jsx)("p",{style:{color:"green",backgroundColor:"transparent",fontWeight:"500"},children:"Order available for this location"})}):(0,i.jsx)("div",{children:(0,i.jsx)("p",{style:{color:"red",backgroundColor:"transparent"},children:"Order not available for this location"})})}),(0,i.jsxs)("div",{className:"address-options mt-2",children:[(0,i.jsxs)("label",{className:"radio-label",id:"CardText",children:[(0,i.jsx)("input",{type:"radio",name:"sameAsDeliveryOption",checked:A,onChange:g}),(0,i.jsx)("span",{className:"radio-custom"}),"Use Delivery address"]}),(0,i.jsxs)("label",{className:"radio-label",id:"CardText",children:[(0,i.jsx)("input",{type:"radio",name:"sameAsDeliveryOption",checked:!A,onChange:g}),(0,i.jsx)("span",{className:"radio-custom"}),"Enter different address"]})]}),(0,i.jsx)(h,{sameAsDelivery:A,streetAddress:m,postalCode:d,city:x,state:f,country:S,handleStreetAddressChange:e=>p(e.target.value),handleZipCodeChange:e=>u(e.target.value),handleCityChange:e=>b(e.target.value),handleStateChange:e=>C(e.target.value),handleCountryChange:e=>j(e.target.value)})]})]})};var u=a(6926),g=a(2984),p=a.n(g),y=a(4423);const x=()=>{const e=(0,r.s0)(),t=JSON.parse(localStorage.getItem("isloggedIn")),a=JSON.parse(localStorage.getItem("deliveryAddress")||"{}"),o=JSON.parse(localStorage.getItem("orderType")||"{}"),n=JSON.parse(localStorage.getItem("orderNotes")),g=JSON.parse(localStorage.getItem("billingAddress")||"{}"),x=JSON.parse(localStorage.getItem("user")),b=JSON.parse(localStorage.getItem("restaurantLongitude")),C=JSON.parse(localStorage.getItem("restaurantLatitude")),[j,f]=(0,s.useState)(""),[S,N]=(0,s.useState)(o||""),[v,k]=(0,s.useState)(""),[O,A]=(0,s.useState)([]),[T,w]=(0,s.useState)(a&&a.streetAddress||g&&g.streetAddress||""),[I,F]=(0,s.useState)(a.city||g.city||""),[E,q]=(0,s.useState)("US"),[J,P]=(0,s.useState)(a.state||g.state||""),[Z,D]=(0,s.useState)(a.postal_code||""),[B,L]=(0,s.useState)(n||""),[_,M]=(0,s.useState)(n||""),[U,z]=(0,s.useState)(!1),[R,K]=(0,s.useState)(!1),[G,V]=(0,s.useState)(null),[$,H]=(0,s.useState)(""),[W,Q]=(0,s.useState)({message:"",type:""}),[X,Y]=(0,s.useState)(null),[ee,te]=(0,s.useState)(t?x.name:""),[ae,se]=(0,s.useState)(t?x.lastName:""),[re,le]=(0,s.useState)(t?x.email:""),[oe,ne]=(0,s.useState)(!1),[ie,de]=(0,s.useState)(!1),[ce,he]=(0,s.useState)(!1),[me,ue]=(0,s.useState)(null),[ge,pe]=(0,s.useState)(!1),[ye,xe]=(0,s.useState)(""),[be,Ce]=(0,s.useState)({latitude:null,longitude:null}),[je,fe]=(0,s.useState)({latitude:null,longitude:null}),[Se,Ne]=(0,s.useState)(null),[ve,ke]=(0,s.useState)(t?x.phone:""),[Oe,Ae]=(0,s.useState)({}),[Te,we]=(JSON.parse(localStorage.getItem("lat")),JSON.parse(localStorage.getItem("lng")),(0,s.useState)(null)),Ie=((0,r.TH)().state,e=>{const t=e.target.value;L(t),localStorage.setItem("orderNotes",JSON.stringify(t))}),Fe=e=>{w(e.target.value)},Ee=e=>{F(e.target.value)},qe=e=>{q(e.target.value)},Je=e=>{P(e.target.value)},Pe=e=>{D(e.target.value)},[Ze,De]=(0,s.useState)(!1),[Be,Le]=(0,s.useState)(g.streetAddress||""),[_e,Me]=(0,s.useState)(g.postalCode||g.postal_code||""),[Ue,ze]=(0,s.useState)(g.city||""),[Re,Ke]=(0,s.useState)(g.state||""),[Ge,Ve]=(0,s.useState)("US"),$e=JSON.parse(localStorage.getItem("restaurantId")),He=async e=>{const t="".concat(Be,", ").concat(Ue,", ").concat(Re,", ").concat(_e,", ").concat(Ge);try{const e=await(async e=>{try{const t=encodeURIComponent(e),a=await l.Z.get("https://api.geoapify.com/v1/geocode/search?text=".concat(t,"&apiKey=").concat(X));if(!a.data.features||0===a.data.features.length)throw new Error("Coordinates not found for the given billing address");const s=a.data.features[0],{lat:r,lon:o}=s.properties;return localStorage.setItem("billingLat",JSON.stringify(r)),localStorage.setItem("billingLng",JSON.stringify(o)),de(!0),{latitude:r,longitude:o}}catch(t){throw de(!1),t}})(t);fe(e)}catch(a){Q({message:"Enter the correct address!",type:"error"})}},We=async e=>{e.preventDefault();const t="".concat(T,", ").concat(I,", ").concat(J,", ").concat(Z,", ").concat(E);try{const e=await(async e=>{try{const t=encodeURIComponent(e),a=await l.Z.get("https://api.geoapify.com/v1/geocode/search?text=".concat(t,"&apiKey=").concat(X));if(!a.data.features||0===a.data.features.length)throw new Error("Coordinates not found for the given billing address");const s=a.data.features[0],{lat:r,lon:o}=s.properties;return de(!0),localStorage.setItem("billingLat",JSON.stringify(r)),localStorage.setItem("billingLng",JSON.stringify(o)),{latitude:r,longitude:o}}catch(t){throw t}})(t);fe(e)}catch(a){de(!1),Q({message:"Please enter the address correctly",type:"error"})}},Qe=async e=>{e.preventDefault();const t="".concat(T,", ").concat(I,", ").concat(J,", ").concat(Z,", ").concat(E);try{const e=await(async e=>{try{const t=encodeURIComponent(e),a=await l.Z.get("https://api.geoapify.com/v1/geocode/search?text=".concat(t,"&apiKey=").concat(X));if(!a.data.features||0===a.data.features.length)throw new Error("Coordinates not found for the given delivery address");const s=a.data.features[0],{lat:r,lon:o}=s.properties;return ne(!0),localStorage.setItem("deliveryLat",JSON.stringify(r)),localStorage.setItem("deliveryLng",JSON.stringify(o)),{latitude:r,longitude:o}}catch(t){throw t}})(t),a={latitude:C,longitude:b},s=(0,u.getDistance)(a,e)/1e3;console.log(s),ue(s),s<=$?(Q({message:"Order Available for your location!",type:"success"}),ne(!0)):(ne(!1),Q({message:"Delivery address is too far. Maximum delivery distance is ".concat($," miles/km."),type:"success"})),Ce(e)}catch(a){ne(!1),Q({message:"Please enter the address correctly",type:"error"})}};(0,s.useEffect)((()=>{(async()=>{try{const e=await l.Z.get("/api/admin/settings/getbyId",{params:{restaurantId:$e}});H(e.data.data.deliveryKm),console.log($)}catch(e){console.error("Error fetching restaurant details:",e),Q({message:"Error fetching delivery & tax charges",type:"error"})}})(),(async()=>{try{const e=JSON.parse(localStorage.getItem("restaurantId")),t=(await l.Z.post("/api/timeSlots",{restaurantId:e})).data.timeSlots;A(t)}catch(e){Q({message:"Error fetching time slots",type:"error"})}})()}),[$]),(0,s.useEffect)((()=>{l.Z.get("/api/get-location-api-key").then((e=>{const t=e.data.apiKey,a=Xe(t);V(a)})).catch((e=>{Q({message:"Error fetching API key",type:"error"})})),l.Z.get("/api/locationApikey").then((e=>{const t=e.data.apiKey,a=Xe(t);Y(a)})).catch((e=>{console.error("Error fetching API key:",e),Q({message:"Error fetching API key",type:"error"})}))}),[]);const Xe=e=>{try{const t=p().AES.decrypt(e,"ghjdjdgdhddjjdhgdcdghww#hsh536");return t.toString(p().enc.Utf8)}catch(t){return console.error("Error decrypting API key:",t),""}};return(0,s.useEffect)((()=>{localStorage.setItem("billingAddress",JSON.stringify({streetAddress:Be,postal_code:_e||Z,city:Ue,state:Re,country:Ge}))}),[Be,_e,Ue,Re,Ge]),(0,s.useEffect)((()=>{localStorage.setItem("deliveryAddress",JSON.stringify({streetAddress:T,postal_code:Z,city:I,state:J,country:E}))}),[T,Z,I,J,E]),(0,s.useEffect)((()=>{Ze&&(ce?(Le(Se.features[0].properties.address_line1),Me(Se.features[0].properties.postcode),ze(Se.features[0].properties.city),Ke(Se.features[0].properties.state),Ve(Se.features[0].properties.country)):(Le(T),Me(Z),ze(I),Ke(J),Ve(E)))}),[Ze,T,Z,I,J,E]),(0,s.useEffect)((()=>{(!0===ie&&!0===oe||"Pickup"===S&&!0===ie)&&(Q({message:"Address verified",type:"success"}),e("/order/confirm"))}),[ie,oe,S,e]),(0,i.jsx)("div",{id:"ShippingInfo",className:"py-5 bg-white",children:(0,i.jsxs)("div",{className:"container col-11 mx-auto bg-white col-lg-6 py-3 custom-table my-4",id:"CardBackIMg",children:[W.message&&(0,i.jsx)(y.Z,{message:W.message,type:W.type,onClose:()=>{Q({message:"",type:""})}}),(0,i.jsxs)("form",{className:"checkout-form bg-white",onSubmit:async e=>{e.preventDefault();try{const t={orderType:S,name:ee,lastName:ae,email:re,mobileNumber:ve,textBox1:B,textBox2:_};"Pickup"===S?await We(e):await He(),"Delivery"===S?await Qe(e):await He(),localStorage.setItem("shippingInfo",JSON.stringify(t))}catch(t){console.error("Error submitting form:",t),Q({message:"Error submitting form. Please try again later.",type:"error"})}},children:[!t&&(0,i.jsx)(d,{name:ee,lastName:ae,email:re,otp:j,handleGetOtp:async()=>{try{const e="/api/send/otp",t=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(ye);console.log(t);const a=/^\d{10}$/.test(ye);await l.Z.post(e,{email:t?ye:void 0,mobile:a?ye:void 0}),Q({message:"OTP sent successfully!",type:"success"}),z(!0)}catch(e){Q({message:"Error sending OTP!",type:"error"})}},isOtpSent:U,otpVerified:R,emailOrMobile:ye,handleConfirmOtp:async()=>{try{const e=p().AES.encrypt(j,"ghjdjdgdhddjjdhgdcdghww#hsh536").toString(),t="/api/verify/otp";(await l.Z.post(t,{email:ye,mobile:ye,enteredOtp:e})).data.success?(Q({message:"OTP verified successfully! ",type:"success"}),localStorage.setItem("emailOrMobile",JSON.stringify(ye)),K(!0)):Q({message:"OTP verification failed!",type:"success"})}catch(e){Q({message:"OTP verification failed!",type:"error"})}},handleFirstNameChange:e=>{te(e.target.value)},handleLastNameChange:e=>{se(e.target.value)},handleEmailChange:e=>{le(e.target.value)},handleOtpChange:e=>{f(e.target.value)},handleEmailOrMobileChange:e=>{xe(e.target.value)},errors:Oe}),(R||t)&&(0,i.jsx)(c,{orderType:S,selectedTimeSlot:v,timeSlots:O,handleOrderTypeChange:e=>{de(!1),ne(!1);const t=e.target.value;localStorage.setItem("orderType",JSON.stringify(t)),N(t)},handleTimeSlotChange:e=>{const t=e.target.value;k(t),localStorage.setItem("selectedTimeSlot",JSON.stringify(t))},handleTimeChange:e=>{we(e)},time:Te,textBox1:B,handleText1:Ie}),"Delivery"===S&&(0,i.jsx)(m,{streetAddress:T,postal_code:Z,city:I,state:J,country:E,textBox2:_,setBillingVerified:de,handleStreetAddressChange:Fe,handleZipCodeChange:Pe,handleCityChange:Ee,handleStateChange:Je,handleCountryChange:qe,handleText2:e=>{const t=e.target.value;M(t),localStorage.setItem("deliveryInstruction",JSON.stringify(t))},toastShown:ge,setToastShown:pe,useCurrentLocation:ce,userLocation:Se,sameAsDelivery:Ze,billingCity:Ue,billingState:Re,billingCountry:Ge,setBillingStreetAddress:Le,handleSameAsDeliveryChange:()=>{De(!Ze),Ze?(Le(""),Me(""),ze(""),Ke(""),localStorage.removeItem("billingAddress")):(Le(T),Me(Z),ze(I),Ke(J),Ve(E))},billingStreetAddress:Be,billingPostalCode:_e,setBillingPostalCode:Me,setBillingCity:ze,setBillingState:Ke,setBillingCountry:Ve,coordinates:be,distanceResult:me}),"Pickup"===S&&(0,i.jsx)(h,{streetAddress:T,postal_code:Z,city:I,state:J,country:E,textBox1:B,handleStreetAddressChange:Fe,handleZipCodeChange:Pe,handleCityChange:Ee,handleStateChange:Je,handleCountryChange:qe,handleText1:Ie,orderType:S}),(0,i.jsx)("div",{className:"d-flex justify-content-center",children:(0,i.jsx)("button",{type:"submit",id:"checkout_btn",className:"btn my-4",children:"Continue"})})]})]})})}},2480:()=>{}}]);